<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Objective-C 面向对象编程详解 | Supremes</title><meta name="author" content="Supremes"><meta name="copyright" content="Supremes"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="深入解析 Objective-C 的面向对象特性，包括 Category、Protocol、Extension 等核心概念，以及 UIViewController 和 UIApplication 的生命周期详解">
<meta property="og:type" content="article">
<meta property="og:title" content="Objective-C 面向对象编程详解">
<meta property="og:url" content="https://supremes.github.io/posts/57222.html">
<meta property="og:site_name" content="Supremes">
<meta property="og:description" content="深入解析 Objective-C 的面向对象特性，包括 Category、Protocol、Extension 等核心概念，以及 UIViewController 和 UIApplication 的生命周期详解">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://supremes.github.io/imgs/avatar.jpg">
<meta property="article:published_time" content="2025-11-28T14:30:00.000Z">
<meta property="article:modified_time" content="2025-11-30T04:51:24.537Z">
<meta property="article:author" content="Supremes">
<meta property="article:tag" content="Category">
<meta property="article:tag" content="Objective-C">
<meta property="article:tag" content="Protocol">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="面向对象">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://supremes.github.io/imgs/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Objective-C 面向对象编程详解",
  "url": "https://supremes.github.io/posts/57222.html",
  "image": "https://supremes.github.io/imgs/avatar.jpg",
  "datePublished": "2025-11-28T14:30:00.000Z",
  "dateModified": "2025-11-30T04:51:24.537Z",
  "author": [
    {
      "@type": "Person",
      "name": "Supremes",
      "url": "https://supremes.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/favicon/favicon.ico"><link rel="canonical" href="https://supremes.github.io/posts/57222.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":10},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Objective-C 面向对象编程详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/imgs/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">50</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/database/"><i class="fa-fw fas fa-database"></i><span> 数据库</span></a></li><li><a class="site-page child" href="/categories/message-queue/"><i class="fa-fw fas fa-envelope"></i><span> 消息队列</span></a></li><li><a class="site-page child" href="/categories/Spring/"><i class="fa-fw fas fa-leaf"></i><span> Spring</span></a></li><li><a class="site-page child" href="/categories/security/"><i class="fa-fw fas fa-shield-alt"></i><span> 网络安全</span></a></li><li><a class="site-page child" href="/categories/AI/"><i class="fa-fw fas fa-robot"></i><span> AI</span></a></li><li><a class="site-page child" href="/categories/mobile/"><i class="fa-fw fas fa-mobile-alt"></i><span> 移动开发</span></a></li><li><a class="site-page child" href="/categories/tools/"><i class="fa-fw fas fa-tools"></i><span> 工具效率</span></a></li><li><a class="site-page child" href="/categories/diary/"><i class="fa-fw fas fa-book"></i><span> 日记</span></a></li><li><a class="site-page child" href="/categories/algorithm/"><i class="fa-fw fas fa-code"></i><span> 算法</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/about/Notes/"><i class="fa-fw fas fa-note-sticky"></i><span> 备忘录</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Supremes</span></a><a class="nav-page-title" href="/"><span class="site-name">Objective-C 面向对象编程详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/database/"><i class="fa-fw fas fa-database"></i><span> 数据库</span></a></li><li><a class="site-page child" href="/categories/message-queue/"><i class="fa-fw fas fa-envelope"></i><span> 消息队列</span></a></li><li><a class="site-page child" href="/categories/Spring/"><i class="fa-fw fas fa-leaf"></i><span> Spring</span></a></li><li><a class="site-page child" href="/categories/security/"><i class="fa-fw fas fa-shield-alt"></i><span> 网络安全</span></a></li><li><a class="site-page child" href="/categories/AI/"><i class="fa-fw fas fa-robot"></i><span> AI</span></a></li><li><a class="site-page child" href="/categories/mobile/"><i class="fa-fw fas fa-mobile-alt"></i><span> 移动开发</span></a></li><li><a class="site-page child" href="/categories/tools/"><i class="fa-fw fas fa-tools"></i><span> 工具效率</span></a></li><li><a class="site-page child" href="/categories/diary/"><i class="fa-fw fas fa-book"></i><span> 日记</span></a></li><li><a class="site-page child" href="/categories/algorithm/"><i class="fa-fw fas fa-code"></i><span> 算法</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/about/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/about/Notes/"><i class="fa-fw fas fa-note-sticky"></i><span> 备忘录</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Objective-C 面向对象编程详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-28T14:30:00.000Z" title="发表于 2025-11-28 14:30:00">2025-11-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-30T04:51:24.537Z" title="更新于 2025-11-30 04:51:24">2025-11-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/mobile/">移动开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h3 id="1-Category（分类）"><a href="#1-Category（分类）" class="headerlink" title="1. Category（分类）"></a>1. <strong>Category（分类）</strong></h3><p><strong>Category</strong> 是 Objective-C 中用于扩展已有类功能的一种机制，无需继承即可为类添加方法。它的主要用途是增强类的功能或将类的实现分模块组织。</p>
<h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><ul>
<li><strong>无需子类化</strong>：可以在不修改原始类源码的情况下，为类添加新的方法。</li>
<li><strong>动态扩展</strong>：Category 在运行时动态地将方法添加到类中。</li>
<li><strong>模块化开发</strong>：可以将类的功能拆分成多个文件，便于团队协作或代码管理。</li>
<li><strong>限制</strong>：<ul>
<li>不能添加实例变量，只能添加方法。</li>
<li>如果 Category 中定义的方法与原始类或另一个 Category 中的方法同名，会覆盖原始方法（可能导致不可预测的行为）。</li>
<li>不能直接访问原始类的私有方法或变量。</li>
</ul>
</li>
</ul>
<h4 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> 原类名 (<span class="title">CategoryName</span>)</span></span><br><span class="line"><span class="comment">// 声明新方法</span></span><br><span class="line">- (<span class="type">void</span>)newMethod;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> 原类名 (<span class="title">CategoryName</span>)</span></span><br><span class="line"><span class="comment">// 实现新方法</span></span><br><span class="line">- (<span class="type">void</span>)newMethod &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;This is a new method added by Category.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<h4 id="应用场景："><a href="#应用场景：" class="headerlink" title="应用场景："></a>应用场景：</h4><ol>
<li><p><strong>扩展系统类</strong>：例如，为 <code>NSString</code> 添加一个自定义方法：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSString</span> (<span class="title">MyExtension</span>)</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)reverseString;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSString</span> (<span class="title">MyExtension</span>)</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)reverseString &#123;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *reversed = [<span class="built_in">NSMutableString</span> stringWithCapacity:<span class="keyword">self</span>.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i = <span class="keyword">self</span>.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        [reversed appendString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@&quot;%C&quot;</span>, [<span class="keyword">self</span> characterAtIndex:i]]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> reversed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *str = <span class="string">@&quot;Hello&quot;</span>;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;%@&quot;</span>, [str reverseString]); <span class="comment">// 输出: olleH</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>代码组织</strong>：将大类的实现分成多个 Category，增强可读性和维护性。例如，<code>UIViewController</code> 可以按功能分为 <code>DataHandling</code> 和 <code>UIConfiguration</code> 两个 Category。</p>
</li>
<li><p><strong>修复或增强功能</strong>：在不修改第三方库的情况下，为其类添加功能。</p>
</li>
</ol>
<h4 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h4><ul>
<li><strong>方法冲突</strong>：如果多个 Category 或原始类定义了同名方法，运行时会选择其中一个（不可预测），应避免命名冲突。</li>
<li><strong>调试困难</strong>：Category 的方法覆盖可能导致调试复杂。</li>
<li><strong>最佳实践</strong>：为避免冲突，建议在方法名中加入前缀（如 <code>my_reverseString</code>）。</li>
</ul>
<hr>
<h3 id="2-Protocol（协议）"><a href="#2-Protocol（协议）" class="headerlink" title="2. Protocol（协议）"></a>2. <strong>Protocol（协议）</strong></h3><p><strong>Protocol</strong> 是 Objective-C 中定义一组方法规范的机制，类似于接口（interface）。它用于声明一组方法，供类实现，以保证类具有特定行为。</p>
<h4 id="特点：-1"><a href="#特点：-1" class="headerlink" title="特点："></a>特点：</h4><ul>
<li><strong>抽象性</strong>：Protocol 仅定义方法签名，不提供实现。</li>
<li><strong>多类共享</strong>：多个类可以实现同一个 Protocol，实现代码共享或行为一致性。</li>
<li><strong>可选与必须</strong>：方法可以标记为 <code>@required</code>（默认，必须实现）或 <code>@optional</code>（可选实现）。</li>
<li><strong>类型检查</strong>：编译器可以检查类是否遵循某个 Protocol。</li>
</ul>
<h4 id="语法：-1"><a href="#语法：-1" class="headerlink" title="语法："></a>语法：</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">MyProtocol</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"><span class="comment">// 必须实现的方法</span></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line">- (<span class="type">void</span>)requiredMethod;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选实现的方法</span></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line">- (<span class="type">void</span>)optionalMethod;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyClass</span> : <span class="title">NSObject</span> &lt;<span class="title">MyProtocol</span>&gt;</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyClass</span></span></span><br><span class="line">- (<span class="type">void</span>)requiredMethod &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;Required method implemented.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<h4 id="应用场景：-1"><a href="#应用场景：-1" class="headerlink" title="应用场景："></a>应用场景：</h4><ol>
<li><p><strong>委托模式（Delegate）</strong>：最常见的用途，例如 <code>UITableViewDelegate</code> 和 <code>UITableViewDataSource</code>。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">MyDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line">- (<span class="type">void</span>)didCompleteTask;</span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line">- (<span class="type">void</span>)progressUpdated:(<span class="type">float</span>)progress;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyClass</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="type">id</span>&lt;MyDelegate&gt; delegate;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接口定义</strong>：定义一组标准接口，供不同类实现。例如，多个视图控制器实现同一个数据处理协议。</p>
</li>
<li><p><strong>类型安全</strong>：通过 Protocol 限制对象类型，确保对象支持特定方法：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">id</span>&lt;MyProtocol&gt; obj = [[MyClass alloc] init];</span><br><span class="line">[obj requiredMethod]; <span class="comment">// 编译器确保方法存在</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="注意事项：-1"><a href="#注意事项：-1" class="headerlink" title="注意事项："></a>注意事项：</h4><ul>
<li><strong>NSObject 协议</strong>：通常 Protocol 会继承 <code>&lt;NSObject&gt;</code> 协议，以确保对象支持基本方法（如 <code>respondsToSelector:</code>）。</li>
<li><strong>动态检查</strong>：使用 <code>conformsToProtocol:</code> 和 <code>respondsToSelector:</code> 检查对象是否遵循协议或实现某方法： <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([obj conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">MyProtocol</span>)]) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ([obj respondsToSelector:<span class="keyword">@selector</span>(optionalMethod)]) &#123;</span><br><span class="line">        [obj optionalMethod];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-Extension（类扩展）"><a href="#3-Extension（类扩展）" class="headerlink" title="3 Extension（类扩展）"></a>3 <strong>Extension（类扩展）</strong></h3><ul>
<li><strong>定义</strong>：类扩展是匿名的 Category，通常用于在类的实现文件中声明私有方法或属性。</li>
<li><strong>特点</strong>：<ul>
<li>可以在 <code>.m</code> 文件中声明私有方法或属性。</li>
<li>可以添加实例变量（与 Category 不同）。</li>
<li>仅在当前类实现文件可见，外部无法访问。</li>
</ul>
</li>
<li><strong>语法</strong>：<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyClass</span> ()</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *privateProperty;</span><br><span class="line">- (<span class="type">void</span>)privateMethod;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyClass</span></span></span><br><span class="line">- (<span class="type">void</span>)privateMethod &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;This is a private method.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></li>
<li><strong>用途</strong>：隐藏实现细节，声明私有接口，或为只读属性添加私有读写支持。</li>
</ul>
<h3 id="4-Dynamic-Runtime（运行时动态性）"><a href="#4-Dynamic-Runtime（运行时动态性）" class="headerlink" title="4  Dynamic Runtime（运行时动态性）"></a>4  <strong>Dynamic Runtime（运行时动态性）</strong></h3><ul>
<li>Objective-C 的运行时系统提供了强大的动态特性，支持以下功能：<ul>
<li><strong>方法交换（Method Swizzling）</strong>：在运行时替换方法实现，常用于调试或修改系统类行为。</li>
<li><strong>动态添加方法</strong>：通过 <code>class_addMethod</code> 动态为类添加方法。</li>
<li><strong>关联对象（Associated Objects）</strong>：通过 <code>objc_setAssociatedObject</code> 为 Category 添加“伪属性”。</li>
<li><strong>示例</strong>（添加关联对象）：<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">MyCategory</span>)</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *associatedString;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSObject</span> (<span class="title">MyCategory</span>)</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">char</span> kAssociatedStringKey;</span><br><span class="line">- (<span class="type">void</span>)setAssociatedString:(<span class="built_in">NSString</span> *)string &#123;</span><br><span class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, &amp;kAssociatedStringKey, string, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="built_in">NSString</span> *)associatedString &#123;</span><br><span class="line">    <span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, &amp;kAssociatedStringKey);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></li>
<li><strong>用途</strong>：增强 Category 功能，实现动态行为修改。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-Category-vs-Protocol-vs-其他方案对比"><a href="#5-Category-vs-Protocol-vs-其他方案对比" class="headerlink" title="5. Category vs Protocol vs 其他方案对比"></a>5. <strong>Category vs Protocol vs 其他方案对比</strong></h3><table>
<thead>
<tr>
<th>特性&#x2F;机制</th>
<th>Category</th>
<th>Protocol</th>
<th>Extension</th>
<th>Block</th>
</tr>
</thead>
<tbody><tr>
<td><strong>用途</strong></td>
<td>扩展类方法</td>
<td>定义接口规范</td>
<td>声明私有方法&#x2F;属性</td>
<td>回调和函数式编程</td>
</tr>
<tr>
<td><strong>添加实例变量</strong></td>
<td>否（可通过关联对象实现）</td>
<td>否</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td><strong>代码复用</strong></td>
<td>高（直接扩展类）</td>
<td>中（需实现）</td>
<td>低（仅限当前类）</td>
<td>高（独立逻辑）</td>
</tr>
<tr>
<td><strong>动态性</strong></td>
<td>高（运行时添加方法）</td>
<td>中（运行时检查方法）</td>
<td>低（编译时确定）</td>
<td>高（捕获上下文）</td>
</tr>
<tr>
<td><strong>典型场景</strong></td>
<td>系统类扩展、代码模块化</td>
<td>委托模式、接口定义</td>
<td>私有接口、属性扩展</td>
<td>异步回调、事件处理</td>
</tr>
</tbody></table>
<hr>
<h3 id="6-总结与建议"><a href="#6-总结与建议" class="headerlink" title="6. 总结与建议"></a>6. <strong>总结与建议</strong></h3><ul>
<li><strong>Category</strong> 适合快速扩展类功能，特别是为系统类或第三方库添加方法，但需注意方法冲突。</li>
<li><strong>Protocol</strong> 适合定义标准接口，确保类行为一致，广泛用于委托模式。</li>
<li><strong>Extension</strong> 用于私有接口，适合隐藏实现细节。</li>
<li><strong>Block</strong> 提供轻量级回调，适合异步任务。</li>
<li><strong>运行时动态性</strong> 提供了强大的灵活性，但需谨慎使用以避免复杂性。</li>
</ul>
<p>根据具体需求选择合适的方案：</p>
<ul>
<li>如果需要扩展现有类，使用 <strong>Category</strong>。</li>
<li>如果需要定义行为规范，使用 <strong>Protocol</strong>。</li>
<li>如果需要私有方法或属性，使用 <strong>Extension</strong>。</li>
<li>如果需要动态或回调逻辑，考虑 <strong>Block</strong> 或 <strong>运行时特性</strong>。</li>
</ul>
<p>如需更具体示例或深入探讨某一机制，请告诉我！</p>
<h1 id="NSURL"><a href="#NSURL" class="headerlink" title="NSURL"></a>NSURL</h1><h2 id="NSURLProtocol"><a href="#NSURLProtocol" class="headerlink" title="NSURLProtocol"></a>NSURLProtocol</h2><p>In the context of <code>WKWebView</code>, requests are generally <strong>not</strong> handled by <code>NSURLProtocol</code>, especially for custom schemes or even for <code>http/https</code> in most cases. Apple restricts <code>NSURLProtocol</code> usage in <code>WKWebView</code> for security and performance reasons.</p>
<p><strong>However, requests can be handled by <code>NSURLProtocol</code> in these scenarios:</strong></p>
<ul>
<li>When using <code>NSURLConnection</code> or <code>NSURLSession</code> <strong>outside</strong> of <code>WKWebView</code>, and you register a custom <code>NSURLProtocol</code> class, all matching requests (e.g., <code>http</code>, <code>https</code>, or custom schemes if registered) will be intercepted by your protocol handler.</li>
<li>In <code>UIWebView</code> (deprecated), <code>NSURLProtocol</code> can intercept requests.</li>
<li>In <code>WKWebView</code>, only if you use a custom <code>NSURLSession</code> (not the web view’s internal networking), and you register a protocol class on that session’s configuration, then requests made by that session (not the web view) can be intercepted.</li>
</ul>
<p><strong>Summary:</strong><br>In <code>WKWebView</code>, requests are not forwarded to <code>NSURLProtocol</code>. Only network requests made by your own <code>NSURLSession</code> or <code>NSURLConnection</code> (outside of <code>WKWebView</code>) can be intercepted by <code>NSURLProtocol</code>.</p>
<hr>
<h2 id="WKURLSchemeHandler"><a href="#WKURLSchemeHandler" class="headerlink" title="WKURLSchemeHandler"></a>WKURLSchemeHandler</h2><ul>
<li><p>拦截处理自定义 scheme（非 https&#x2F;http） </p>
<blockquote>
<p>通过实现WKURLSchemeHandler protocol，可以拦截和处理 WKWebView 发起的特定 scheme（如 http&#x2F;https 以外的自定义协议）请求，实现自定义的网络请求逻辑</p>
</blockquote>
</li>
<li><p>apple 推荐的官方协议，用来处理自定义的 scheme</p>
</li>
<li><p><strong><code> https/http</code> 请求无法在 wkwebview 中被拦截处理</strong></p>
</li>
<li><p>WKWebview 不支持使用<code>NSURLProtocol</code>来拦截请求，forward 到<code>NSURLSession</code>是官方推荐可信任的做法</p>
</li>
</ul>
<hr>
<h2 id="NSURLSessionDelegate"><a href="#NSURLSessionDelegate" class="headerlink" title="NSURLSessionDelegate"></a>NSURLSessionDelegate</h2><ul>
<li><code>WKURLSchemeHandler</code> 拦截的请求，会被转发到<code>NSURLSession</code>， 并通过 NSURLSessionDelegate 进行处理。</li>
</ul>
<h1 id="UIViewController"><a href="#UIViewController" class="headerlink" title="UIViewController"></a>UIViewController</h1><p>UIViewController的生命周期函数介绍：</p>
<h2 id="主要生命周期方法"><a href="#主要生命周期方法" class="headerlink" title="主要生命周期方法"></a>主要生命周期方法</h2><h3 id="1-viewDidLoad"><a href="#1-viewDidLoad" class="headerlink" title="1. viewDidLoad"></a>1. <code>viewDidLoad</code></h3><ul>
<li><strong>调用时机</strong>：视图控制器的视图层次结构加载到内存中后调用</li>
<li><strong>用途</strong>：进行一次性初始化，如创建UI元素、设置初始状态</li>
<li><strong>特点</strong>：只调用一次</li>
</ul>
<h3 id="2-viewWillAppear"><a href="#2-viewWillAppear" class="headerlink" title="2. viewWillAppear:"></a>2. <code>viewWillAppear:</code></h3><ul>
<li><strong>调用时机</strong>：视图即将显示前调用</li>
<li><strong>用途</strong>：准备显示视图，如刷新数据、重置UI状态</li>
<li><strong>特点</strong>：每次视图显示前都会调用</li>
</ul>
<h3 id="3-viewDidAppear"><a href="#3-viewDidAppear" class="headerlink" title="3. viewDidAppear:"></a>3. <code>viewDidAppear:</code></h3><ul>
<li><strong>调用时机</strong>：视图已经显示后调用</li>
<li><strong>用途</strong>：启动动画、开始定时器、注册通知等</li>
<li><strong>特点</strong>：每次视图显示后都会调用</li>
</ul>
<h3 id="4-viewWillDisappear"><a href="#4-viewWillDisappear" class="headerlink" title="4. viewWillDisappear:"></a>4. <code>viewWillDisappear:</code></h3><ul>
<li><strong>调用时机</strong>：视图即将消失前调用</li>
<li><strong>用途</strong>：保存数据、暂停操作、验证输入等</li>
<li><strong>特点</strong>：每次视图消失前都会调用</li>
</ul>
<h3 id="5-viewDidDisappear"><a href="#5-viewDidDisappear" class="headerlink" title="5. viewDidDisappear:"></a>5. <code>viewDidDisappear:</code></h3><ul>
<li><strong>调用时机</strong>：视图已经消失后调用</li>
<li><strong>用途</strong>：停止定时器、取消网络请求、清理资源等</li>
<li><strong>特点</strong>：每次视图消失后都会调用</li>
</ul>
<h3 id="6-viewDidUnload-iOS-6之前"><a href="#6-viewDidUnload-iOS-6之前" class="headerlink" title="6. viewDidUnload (iOS 6之前)"></a>6. <code>viewDidUnload</code> (iOS 6之前)</h3><ul>
<li><strong>调用时机</strong>：内存不足时系统卸载视图</li>
<li><strong>用途</strong>：清理视图相关资源</li>
<li><strong>特点</strong>：iOS 6后已废弃</li>
</ul>
<h2 id="生命周期顺序"><a href="#生命周期顺序" class="headerlink" title="生命周期顺序"></a>生命周期顺序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">创建 → viewDidLoad → viewWillAppear → viewDidAppear</span><br><span class="line">     ↓</span><br><span class="line">显示中的视图</span><br><span class="line">     ↓</span><br><span class="line">viewWillDisappear → viewDidDisappear → 销毁</span><br></pre></td></tr></table></figure>

<h2 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h2><ul>
<li><strong>viewDidLoad</strong>：创建UI、设置委托、初始化数据源</li>
<li><strong>viewWillAppear</strong>：刷新界面数据、重置状态</li>
<li><strong>viewDidAppear</strong>：开始网络请求、启动动画</li>
<li><strong>viewWillDisappear</strong>：保存用户输入、暂停活动</li>
<li><strong>viewDidDisappear</strong>：清理资源、停止后台任务</li>
</ul>
<h1 id="UIApplication"><a href="#UIApplication" class="headerlink" title="UIApplication"></a>UIApplication</h1><h2 id="UIViewController-和-UIApplication-的关系"><a href="#UIViewController-和-UIApplication-的关系" class="headerlink" title="UIViewController 和 UIApplication 的关系"></a>UIViewController 和 UIApplication 的关系</h2><h3 id="层次关系"><a href="#层次关系" class="headerlink" title="层次关系"></a>层次关系</h3><ul>
<li><strong>UIApplication</strong>：应用程序的单例对象，管理整个应用的生命周期</li>
<li><strong>UIViewController</strong>：管理单个视图的控制器，是UIApplication管理的视图层次结构的一部分</li>
</ul>
<h3 id="包含关系"><a href="#包含关系" class="headerlink" title="包含关系"></a>包含关系</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UIApplication</span><br><span class="line">├── UIWindow</span><br><span class="line">    ├── Root UIViewController</span><br><span class="line">        ├── Child UIViewController</span><br><span class="line">        └── Presented UIViewController</span><br></pre></td></tr></table></figure>

<h2 id="生命周期函数对应关系"><a href="#生命周期函数对应关系" class="headerlink" title="生命周期函数对应关系"></a>生命周期函数对应关系</h2><h3 id="UIApplication-生命周期方法（AppDelegate）"><a href="#UIApplication-生命周期方法（AppDelegate）" class="headerlink" title="UIApplication 生命周期方法（AppDelegate）"></a>UIApplication 生命周期方法（AppDelegate）</h3><h4 id="1-application-didFinishLaunchingWithOptions"><a href="#1-application-didFinishLaunchingWithOptions" class="headerlink" title="1. application:didFinishLaunchingWithOptions:"></a>1. <code>application:didFinishLaunchingWithOptions:</code></h4><ul>
<li><strong>对应UIViewController</strong>：在root view controller的<code>viewDidLoad</code>之前调用</li>
<li><strong>关系</strong>：应用启动完成 → 创建window和root view controller</li>
</ul>
<h4 id="2-applicationDidBecomeActive"><a href="#2-applicationDidBecomeActive" class="headerlink" title="2. applicationDidBecomeActive:"></a>2. <code>applicationDidBecomeActive:</code></h4><ul>
<li><strong>对应UIViewController</strong>：当前可见view controller的<code>viewWillAppear:</code>和<code>viewDidAppear:</code></li>
<li><strong>关系</strong>：应用变为活跃状态 → 视图控制器开始显示</li>
</ul>
<h4 id="3-applicationWillResignActive"><a href="#3-applicationWillResignActive" class="headerlink" title="3. applicationWillResignActive:"></a>3. <code>applicationWillResignActive:</code></h4><ul>
<li><strong>对应UIViewController</strong>：当前可见view controller的<code>viewWillDisappear:</code></li>
<li><strong>关系</strong>：应用即将失去焦点 → 视图即将不可交互</li>
</ul>
<h4 id="4-applicationDidEnterBackground"><a href="#4-applicationDidEnterBackground" class="headerlink" title="4. applicationDidEnterBackground:"></a>4. <code>applicationDidEnterBackground:</code></h4><ul>
<li><strong>对应UIViewController</strong>：当前可见view controller的<code>viewDidDisappear:</code></li>
<li><strong>关系</strong>：应用进入后台 → 视图完全不可见</li>
</ul>
<h4 id="5-applicationWillEnterForeground"><a href="#5-applicationWillEnterForeground" class="headerlink" title="5. applicationWillEnterForeground:"></a>5. <code>applicationWillEnterForeground:</code></h4><ul>
<li><strong>对应UIViewController</strong>：即将显示的view controller的<code>viewWillAppear:</code></li>
<li><strong>关系</strong>：应用即将回到前台 → 视图即将重新显示</li>
</ul>
<h4 id="6-applicationWillTerminate"><a href="#6-applicationWillTerminate" class="headerlink" title="6. applicationWillTerminate:"></a>6. <code>applicationWillTerminate:</code></h4><ul>
<li><strong>对应UIViewController</strong>：所有view controller的清理工作</li>
<li><strong>关系</strong>：应用即将终止 → 所有视图控制器被销毁</li>
</ul>
<h2 id="调用顺序示例"><a href="#调用顺序示例" class="headerlink" title="调用顺序示例"></a>调用顺序示例</h2><h3 id="应用启动"><a href="#应用启动" class="headerlink" title="应用启动"></a>应用启动</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. application:didFinishLaunchingWithOptions:</span><br><span class="line">2. viewDidLoad (root ViewController)</span><br><span class="line">3. viewWillAppear: (root ViewController) </span><br><span class="line">4. applicationDidBecomeActive:</span><br><span class="line">5. viewDidAppear: (root ViewController)</span><br></pre></td></tr></table></figure>

<h3 id="应用进入后台"><a href="#应用进入后台" class="headerlink" title="应用进入后台"></a>应用进入后台</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. applicationWillResignActive:</span><br><span class="line">2. viewWillDisappear: (current ViewController)</span><br><span class="line">3. applicationDidEnterBackground:</span><br><span class="line">4. viewDidDisappear: (current ViewController)</span><br></pre></td></tr></table></figure>

<h3 id="应用回到前台"><a href="#应用回到前台" class="headerlink" title="应用回到前台"></a>应用回到前台</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. applicationWillEnterForeground:</span><br><span class="line">2. viewWillAppear: (current ViewController)</span><br><span class="line">3. applicationDidBecomeActive:</span><br><span class="line">4. viewDidAppear: (current ViewController)</span><br></pre></td></tr></table></figure>

<h2 id="实际应用建议"><a href="#实际应用建议" class="headerlink" title="实际应用建议"></a>实际应用建议</h2><ul>
<li><strong>UIApplication级别</strong>：处理全局状态、推送通知、应用级别的数据保存</li>
<li><strong>UIViewController级别</strong>：处理界面相关的逻辑、用户交互、视图状态管理</li>
<li><strong>协调使用</strong>：在AppDelegate中可以通知当前的view controller应用状态变化</li>
</ul>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Objective-C/">Objective-C</a><a class="post-meta__tags" href="/tags/iOS/">iOS</a><a class="post-meta__tags" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a><a class="post-meta__tags" href="/tags/Category/">Category</a><a class="post-meta__tags" href="/tags/Protocol/">Protocol</a></div><div class="post-share"><div class="social-share" data-image="/imgs/avatar.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/27915.html" title="MCP（Model Context Protocol）详解"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">MCP（Model Context Protocol）详解</div></div><div class="info-2"><div class="info-item-1">What is the MCP? MCP (Model Context Protocol) is an open-source standard for connecting AI applications to external systems. Using MCP, AI applications like Claude or ChatGPT can connect to data sources (e.g. local files, databases), tools (e.g. search engines, calculators) and workflows (e.g. specialized prompts)—enabling them to access key information and perform tasks. Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect electronic device...</div></div></div></a><a class="pagination-related" href="/posts/64545.html" title="现代身份认证与授权技术完全指南 - OAuth、JWT、SAML 等协议详解"><img class="cover" src="/imgs/%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83%E5%B0%81%E9%9D%A2%E5%9B%BE.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">现代身份认证与授权技术完全指南 - OAuth、JWT、SAML 等协议详解</div></div><div class="info-2"><div class="info-item-1">认证和授权完全指南概述在现代网络安全体系中，认证（Authentication） 和 授权（Authorization） 是保障系统安全的两大核心机制：  认证：验证用户身份（”你是谁？”） 授权：确认访问权限（”你能做什么？”）  本文将从协议和Token两个维度，系统性阐述认证授权的技术体系。  一、认证授权协议体系1. OAuth 2.0 - 授权标准协议OAuth 2.0 是现代互联网授权的基石，专注于授权（资源访问权限的委派），而非直接处理用户身份认证。 核心角色   角色 说明 示例    资源所有者（Resource Owner） 拥有资源的用户 微信用户   客户端（Client） 请求访问资源的应用 第三方小程序   授权服务器（Authorization Server） 颁发Token的服务 微信授权服务器   资源服务器（Resource Server） 存储受保护资源的服务 微信用户信息API   四种授权模式 授权码模式（Authorization Code）  适用场景：Web应用（服务端安全） 安全性：最高，推荐使用 流程：用户授权 → 获取授权码 ...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/imgs/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Supremes</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">50</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Supremes"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Category%EF%BC%88%E5%88%86%E7%B1%BB%EF%BC%89"><span class="toc-text">1. Category（分类）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-text">语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-text">应用场景：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-text">注意事项：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Protocol%EF%BC%88%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-text">2. Protocol（协议）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A-1"><span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%EF%BC%9A-1"><span class="toc-text">语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A-1"><span class="toc-text">应用场景：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-1"><span class="toc-text">注意事项：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Extension%EF%BC%88%E7%B1%BB%E6%89%A9%E5%B1%95%EF%BC%89"><span class="toc-text">3 Extension（类扩展）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Dynamic-Runtime%EF%BC%88%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8A%A8%E6%80%81%E6%80%A7%EF%BC%89"><span class="toc-text">4  Dynamic Runtime（运行时动态性）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Category-vs-Protocol-vs-%E5%85%B6%E4%BB%96%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94"><span class="toc-text">5. Category vs Protocol vs 其他方案对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%80%BB%E7%BB%93%E4%B8%8E%E5%BB%BA%E8%AE%AE"><span class="toc-text">6. 总结与建议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#NSURL"><span class="toc-text">NSURL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#NSURLProtocol"><span class="toc-text">NSURLProtocol</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WKURLSchemeHandler"><span class="toc-text">WKURLSchemeHandler</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NSURLSessionDelegate"><span class="toc-text">NSURLSessionDelegate</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UIViewController"><span class="toc-text">UIViewController</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95"><span class="toc-text">主要生命周期方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-viewDidLoad"><span class="toc-text">1. viewDidLoad</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-viewWillAppear"><span class="toc-text">2. viewWillAppear:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-viewDidAppear"><span class="toc-text">3. viewDidAppear:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-viewWillDisappear"><span class="toc-text">4. viewWillDisappear:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-viewDidDisappear"><span class="toc-text">5. viewDidDisappear:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-viewDidUnload-iOS-6%E4%B9%8B%E5%89%8D"><span class="toc-text">6. viewDidUnload (iOS 6之前)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%A1%BA%E5%BA%8F"><span class="toc-text">生命周期顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">最佳实践</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UIApplication"><span class="toc-text">UIApplication</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#UIViewController-%E5%92%8C-UIApplication-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">UIViewController 和 UIApplication 的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E5%85%B3%E7%B3%BB"><span class="toc-text">层次关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E5%90%AB%E5%85%B3%E7%B3%BB"><span class="toc-text">包含关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-text">生命周期函数对应关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UIApplication-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95%EF%BC%88AppDelegate%EF%BC%89"><span class="toc-text">UIApplication 生命周期方法（AppDelegate）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-application-didFinishLaunchingWithOptions"><span class="toc-text">1. application:didFinishLaunchingWithOptions:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-applicationDidBecomeActive"><span class="toc-text">2. applicationDidBecomeActive:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-applicationWillResignActive"><span class="toc-text">3. applicationWillResignActive:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-applicationDidEnterBackground"><span class="toc-text">4. applicationDidEnterBackground:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-applicationWillEnterForeground"><span class="toc-text">5. applicationWillEnterForeground:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-applicationWillTerminate"><span class="toc-text">6. applicationWillTerminate:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F%E7%A4%BA%E4%BE%8B"><span class="toc-text">调用顺序示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8"><span class="toc-text">应用启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E8%BF%9B%E5%85%A5%E5%90%8E%E5%8F%B0"><span class="toc-text">应用进入后台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9B%9E%E5%88%B0%E5%89%8D%E5%8F%B0"><span class="toc-text">应用回到前台</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-text">实际应用建议</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/65190.html" title="八股文">八股文</a><time datetime="2025-11-29T09:00:27.000Z" title="发表于 2025-11-29 09:00:27">2025-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/31482.html" title="Golang">Golang</a><time datetime="2025-11-29T08:59:30.000Z" title="发表于 2025-11-29 08:59:30">2025-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/18358.html" title="分布式锁">分布式锁</a><time datetime="2025-11-29T08:57:26.000Z" title="发表于 2025-11-29 08:57:26">2025-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/16018.html" title="Redis 学习笔记">Redis 学习笔记</a><time datetime="2025-11-29T08:56:10.000Z" title="发表于 2025-11-29 08:56:10">2025-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/4947.html" title="TODO">TODO</a><time datetime="2025-11-29T08:50:05.000Z" title="发表于 2025-11-29 08:50:05">2025-11-29</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Supremes</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="/"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章标题和内容..." type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.2"></script></div></div></body></html>