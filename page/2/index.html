<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Supremes">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/2/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Supremes</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/shell%20%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/shell%20%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>配置 zsh</p>
<ul>
<li>oh-my-zsh</li>
<li>zim : <a target="_blank" rel="noopener" href="https://zimfw.sh/">https://zimfw.sh/</a></li>
</ul>
<p>git tools</p>
<ul>
<li>lazygit : <code>brew install jesseduffield/lazygit/lazygit</code></li>
</ul>
<p>autoload -U compinit; compinit<br>source ~&#x2F;XenMobile&#x2F;github-sample-app&#x2F;fzf-tab.plugin.zsh</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Test Slot:</span><br><span class="line">1. IMEI - $&#123;device.IMEI_SLOT_ONE&#125;</span><br><span class="line">2. phonenumber - $&#123;device.PHONENUMBER_SLOT_ONE&#125;</span><br></pre></td></tr></table></figure>



<p>There is no change in CEM for this policy , and we also have checked the policy settings in the apple document, there is no change from iOS26. </p>
<p>Since the policy could be successfully deployed to the device, and the actual behaviour is controlled by apple itself, so there should be apple’s change in the iOS26, we could waitting for the apple’s release to announce this change or to fix it.</p>
<p><strong>Subject:</strong> Home Screen Layout Behavior in iOS 26 – No CEM Change  </p>
<p>Dear Team,  </p>
<p>We have confirmed:  </p>
<ul>
<li>No changes in the <strong>com.apple.homescreenlayout</strong> payload or CEM policy definition – Apple’s official documentation remains unchanged since iOS 26.0.  </li>
<li>The policy still deploys successfully.</li>
</ul>
<p>The removal of empty placeholder spaces when applying layouts is therefore an <strong>Apple-side change (or undocumented bug)</strong> in iOS 26.  </p>
<p>We will monitor upcoming release notes and inform you once Apple officially acknowledges or fixes it.  </p>
<p>Best regards,<br>[Your Name]</p>
<p>For the Home Screen Layout policy:  </p>
<ul>
<li>There is <strong>no change</strong> in the CEM.  </li>
<li>We have cross-checked the latest official Apple  MDM Protocol documentation – the schema and allowed values remain unchanged from iOS 26.0 through the current iOS 26.2 betas.</li>
</ul>
<p>Since the policy continues to deploy successfully to devices and the resulting layout behavior is ultimately enforced by the operating system itself, this modification appears to be an intentional change (or possibly an undocumented regression&#x2F;bug) introduced by Apple on the iOS 26 platform side.  </p>
<p>We will continue monitoring Apple’s release notes for iOS 26.x updates and beta cycles. As soon as Apple officially documents this behavior change or releases a fix (if it is indeed a bug), we will inform you accordingly.  </p>
<p>Please feel free to let me know if you need any additional testing or documentation in the meantime.  </p>
<p>Best regards,<br>[Your Name]<br>[Your Position]<br>[Your Contact Information]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/MAM%20SDK%20TEST%20CYCLE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/MAM%20SDK%20TEST%20CYCLE/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Secure-Mail"><a href="#Secure-Mail" class="headerlink" title="Secure Mail"></a>Secure Mail</h1><ul>
<li><p>compliance - user account change</p>
</li>
<li><p>app passcode</p>
</li>
<li><p>device passcode</p>
</li>
<li><p>app restrictions</p>
<ul>
<li><p>Cut&#x2F;Copy&#x2F;Paste</p>
</li>
<li><p>Photo Library</p>
</li>
</ul>
</li>
</ul>
<h1 id="Secure-Web"><a href="#Secure-Web" class="headerlink" title="Secure Web"></a>Secure Web</h1><ul>
<li><p>MDX - MAM SDK Migration </p>
</li>
<li><p>AG Configuration</p>
<ul>
<li><p>Split tunnel</p>
</li>
<li><p>Split DNS</p>
</li>
<li><p>LDAP Auth</p>
</li>
<li><p>Client Cert</p>
</li>
<li><p>Client Cert + LDAP</p>
</li>
</ul>
</li>
<li><p>Network Access</p>
<ul>
<li><p>web-sso</p>
</li>
<li><p>unrestricted</p>
</li>
<li><p>blocked</p>
</li>
</ul>
</li>
<li><p>Connection Timeout - CXM-8345</p>
<ul>
<li><p>WIFI on&#x2F;off</p>
</li>
<li><p>website idle timeout and ag connection timeout</p>
</li>
</ul>
</li>
<li><p>verify websso tunnel connected and disconnected</p>
</li>
<li><p>The Endpoint website - http&#x2F;https protocols</p>
</li>
<li><p>The Endpoint website - Auth configuration - CXM-993110</p>
<ul>
<li><p>Anonymous Auth</p>
</li>
<li><p>Basic Auth</p>
</li>
<li><p>Digest Auth</p>
</li>
<li><p>NTLM Auth</p>
</li>
</ul>
</li>
<li><p>The Endpoint website - Server Cert configuration - CXM-993111</p>
<ul>
<li><p>Trusted SelfSigned Cert</p>
</li>
<li><p>Trusted Public Cert</p>
</li>
<li><p>Trusted WildCard Cert</p>
</li>
</ul>
</li>
<li><p>Geofence</p>
</li>
</ul>
<h2 id="Considering-to-move-to-secure-web"><a href="#Considering-to-move-to-secure-web" class="headerlink" title="Considering to move to secure web"></a>Considering to move to secure web</h2><ul>
<li><p>Download Manager</p>
</li>
<li><p>Mail Redirection</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    title SM STA Tunnel Data Flow (Optimized)</span><br><span class="line"></span><br><span class="line">    participant Client as NSURLSession\nWith Proxy</span><br><span class="line">    participant Proxy as Socks5 Proxy Server</span><br><span class="line">    participant Gateway</span><br><span class="line">    participant Exchange</span><br><span class="line"></span><br><span class="line">    Note over Client, Proxy: Phase 1 - Connection Setup</span><br><span class="line">    Client-&gt;&gt;Proxy: 1.1 - SOCKS Negotiation</span><br><span class="line">    Proxy--&gt;&gt;Client: No Auth Required</span><br><span class="line">    Client-&gt;&gt;Proxy: 1.2 - CONNECT cmd\n(Exchange Address)</span><br><span class="line">    </span><br><span class="line">    Note over Proxy, Gateway: Phase 2 - Gateway Relay</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 2.1 - SOCKS Negotiation</span><br><span class="line">    Gateway--&gt;&gt;Proxy: Response</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 2.2 - CONNECT cmd\n(STA + Exchange Address)</span><br><span class="line">    Gateway--&gt;&gt;Proxy: STA Connection Established</span><br><span class="line">    Proxy--&gt;&gt;Client: SOCKS Connected\n(Exchange Address)</span><br><span class="line"></span><br><span class="line">    Note over Client, Exchange: Phase 3 - TLS Handshake</span><br><span class="line">    Client-&gt;&gt;Proxy: 3.1 - ClientHello\n(Exchange Address)</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 3.2 - Forward Data</span><br><span class="line">    Gateway-&gt;&gt;Exchange: 3.3 - Forward Data</span><br><span class="line">    Exchange-&gt;&gt;Gateway: 3.4 - ServerHello</span><br><span class="line">    Gateway-&gt;&gt;Proxy: 3.5 - Forward Data</span><br><span class="line">    Proxy-&gt;&gt;Client: 3.6 - Response Received</span><br><span class="line"></span><br><span class="line">    Note over Client, Exchange: Phase 4 - Repeat Handshake</span><br><span class="line">    loop Handshake Steps</span><br><span class="line">        Client-&gt;&gt;Proxy: 4.x - TLS Handshake Data</span><br><span class="line">        Proxy-&gt;&gt;Gateway: Forward</span><br><span class="line">        Gateway-&gt;&gt;Exchange: Forward</span><br><span class="line">        Exchange--&gt;&gt;Client: Response (via Gateway/Proxy)</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

<p>112</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/two%20factor%20auth%20page/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/two%20factor%20auth%20page/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>Test Scenarios:</strong></p>
<p>sign off &#x2F;sign in</p>
<p>kill app and relaunch in mdm auth phase</p>
<p>kill app and relaunch in mam auth phase</p>
<p>Mam only </p>
<p>mam + mdm </p>
<p><strong>Auth Type:</strong></p>
<p>AGAuthUICredentialPin: Invitation Pin&#x2F; MDM Two Factor</p>
<p>AGAuthUICredentialTextCredential: nfactorsso</p>
<p>AGAuthUICredentialPasscode: njcqetmp2</p>
<p>AGAuthUICredentialRSAPasscode:  unknown</p>
<p>MDM can require the device to be on a specific minimum operating system version in order to enroll. If current device os version is lower than predefined os version by admin, it will kick off the update process for the user. Once the necessary OS version is installed, the device to will return to Setup Assistant to complete the enrollment and setup process.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/App%20Flip%20URL%20Command%20Type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/App%20Flip%20URL%20Command%20Type/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Response-Function-in-SH"><a href="#Response-Function-in-SH" class="headerlink" title="Response Function in SH"></a>Response Function in SH</h1><h2 id="sendLogonResponseTo"><a href="#sendLogonResponseTo" class="headerlink" title="sendLogonResponseTo"></a>sendLogonResponseTo</h2><p><strong>Response Command Type :</strong> </p>
<p><code>kMDXREQUEST_NETWORKLOGON</code></p>
<p><strong>Request Command Type:</strong></p>
<ul>
<li><code>kMDXREQUEST_NETWORKLOGON</code></li>
<li>&#96;&#96;kMDXREQUEST_DEVICELOCK&#96;</li>
</ul>
<h2 id="sendVPNLogonResponseTo"><a href="#sendVPNLogonResponseTo" class="headerlink" title="sendVPNLogonResponseTo"></a>sendVPNLogonResponseTo</h2><p><strong>Response Command Type :</strong> </p>
<p><code>kMDXREQUEST_NETWORKLOGON</code></p>
<p><strong>Request Command Type:</strong></p>
<p><code>kMDXREQUEST_VPNLOGON</code></p>
<h2 id="sendPINResetResponseTo"><a href="#sendPINResetResponseTo" class="headerlink" title="sendPINResetResponseTo"></a>sendPINResetResponseTo</h2><p><strong>Response Command Type :</strong> </p>
<p><code>kMDXREQUEST_NETWORKLOGON</code></p>
<p><strong>Request Command Type:</strong></p>
<p><code>kMDXREQUEST_PASSCODEPINRESET</code></p>
<h2 id="sendResponseTo"><a href="#sendResponseTo" class="headerlink" title="sendResponseTo"></a>sendResponseTo</h2><p>Request Command Type is same as response command type.</p>
<ul>
<li><code>kMDXREQUEST_STARTAPPREGISTRATION</code></li>
<li><code>kCTXSSO_LAUNCH_REQUEST</code></li>
<li><code>kMDXREQUEST_RECOVERSHAREDVAULT</code></li>
</ul>
<h2 id="sendSdkLogonResponseTo"><a href="#sendSdkLogonResponseTo" class="headerlink" title="sendSdkLogonResponseTo"></a>sendSdkLogonResponseTo</h2><p><strong>Response Command Type :</strong></p>
<p><code>kMDXREQUEST_SDK_APP_LOGON</code></p>
<p><strong>Request Command Type:</strong></p>
<ul>
<li><code>kMDXREQUEST_ESDK_DEVICELOCK</code></li>
<li><code>kMDXREQUEST_SDK_APP_LOGON</code></li>
</ul>
<h1 id="RelationShip-Request-and-Response-Command"><a href="#RelationShip-Request-and-Response-Command" class="headerlink" title="RelationShip - Request and Response Command"></a>RelationShip - Request and Response Command</h1><table>
<thead>
<tr>
<th>Request Command Type</th>
<th>Response Command Type</th>
</tr>
</thead>
<tbody><tr>
<td><code>kMDXREQUEST_NETWORKLOGON</code></td>
<td><code>kMDXREQUEST_NETWORKLOGON</code></td>
</tr>
<tr>
<td><code>kMDXREQUEST_DEVICELOCK</code></td>
<td><code>kMDXREQUEST_NETWORKLOGON</code></td>
</tr>
<tr>
<td><code>kMDXREQUEST_VPNLOGON</code></td>
<td><code>kMDXREQUEST_NETWORKLOGON</code></td>
</tr>
<tr>
<td><code>kMDXREQUEST_PASSCODEPINRESET</code></td>
<td><code>kMDXREQUEST_NETWORKLOGON</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><code>kMDXREQUEST_ESDK_DEVICELOCK</code></td>
<td><code>kMDXREQUEST_SDK_APP_LOGON</code></td>
</tr>
<tr>
<td><code>kMDXREQUEST_SDK_APP_LOGON</code></td>
<td><code>kMDXREQUEST_SDK_APP_LOGON</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><code>kMDXREQUEST_STARTAPPREGISTRATION</code></td>
<td><code>kMDXREQUEST_STARTAPPREGISTRATION</code></td>
</tr>
<tr>
<td><code>kCTXSSO_LAUNCH_REQUEST</code></td>
<td><code>kCTXSSO_LAUNCH_REQUEST</code></td>
</tr>
<tr>
<td><code>kMDXREQUEST_RECOVERSHAREDVAULT</code></td>
<td><code>kMDXREQUEST_RECOVERSHAREDVAULT</code></td>
</tr>
</tbody></table>
<p>kMDXREQUEST_NETWORKLOGON:</p>
<ul>
<li>kMDXREQUEST_NETWORKLOGON</li>
<li><strong>kMDXREQUEST_DEVICELOCK</strong></li>
<li><strong>kMDXREQUEST_VPNLOGON</strong></li>
<li><strong>kMDXREQUEST_PASSCODEPINRESET</strong></li>
</ul>
<p>kMDXREQUEST_SDK_APP_LOGON:</p>
<ul>
<li><strong>kMDXREQUEST_ESDK_DEVICELOCK</strong> - from compliance sdk(CTXLogonRequestType_SDK_DeviceStateChange)</li>
<li>kMDXREQUEST_SDK_APP_LOGON</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    %% Nodes for Request Command Types</span><br><span class="line">    A[kMDXREQUEST_SDK_APP_LOGON] --&gt; B[kMDXREQUEST_NETWORKLOGON]</span><br><span class="line">    C[kMDXREQUEST_DEVICELOCK] --&gt; B</span><br><span class="line">    D[kMDXREQUEST_VPNLOGON] --&gt; B</span><br><span class="line">    E[kMDXREQUEST_PASSCODEPINRESET] --&gt; B</span><br><span class="line"></span><br><span class="line">    F[kMDXREQUEST_STARTAPPREGISTRATION] --&gt; F</span><br><span class="line">    G[kCTXSSO_LAUNCH_REQUEST] --&gt; G</span><br><span class="line">    H[kMDXREQUEST_RECOVERSHAREDVAULT] --&gt; H</span><br><span class="line"></span><br><span class="line">    I[kMDXREQUEST_ESDK_DEVICELOCK] --&gt; J[kMDXREQUEST_SDK_APP_LOGON]</span><br><span class="line">    A --&gt; J</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Type a script or drag a script file from your workspace to insert its path.</span><br><span class="line">export STOREURL=&quot;http://yourstore.yourdomain.com&quot;</span><br><span class="line">export APPTYPE=&quot;sdkapp&quot;</span><br><span class="line">export PACKAGEID=&quot;0F87B507-445E-49E1-B9AB-4B383FCECA4B-IOSSWIFTTESTAPP&quot; # uuidgen</span><br><span class="line">#export PACKAGEID=&quot;&quot; #Please run uuidgen at the command line and paste the output value in the PACKAGEID variable</span><br><span class="line">export APPIDPREFIX= &quot;NPB9J4KRXA&quot;</span><br><span class="line">export TOOLKIT_DIR=&quot;$PROJECT_DIR/Tools&quot;</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$&#123;PACKAGEID&#125;&quot; ]</span><br><span class="line">then</span><br><span class="line">echo &quot;PACKAGEID variable was not found or was empty, please run uuidgen at the command line and paste the output value in the PACKAGEID variable in your post build script.&quot;</span><br><span class="line">exit 1</span><br><span class="line">else</span><br><span class="line">&quot;$TOOLKIT_DIR/CGAppCLPrepTool&quot; SdkPrep -in &quot;$CONFIGURATION_BUILD_DIR/$EXECUTABLE_FOLDER_PATH&quot; -out &quot;$CONFIGURATION_BUILD_DIR/$EXECUTABLE_NAME.mdx&quot; -storeURL &quot;$&#123;STOREURL&#125;&quot; -appType &quot;$&#123;APPTYPE&#125;&quot; -packageId &quot;$&#123;PACKAGEID&#125;&quot; -entitlements &quot;$SRCROOT/$PROJECT/$PROJECT.entitlements&quot; -appIdPrefix &quot;$&#123;APPIDPREFIX&#125;&quot; -minPlatform &quot;9.0&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/objective-c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/objective-c/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h2 id="oc完全支持C语言"><a href="#oc完全支持C语言" class="headerlink" title="oc完全支持C语言"></a>oc完全支持C语言</h2><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><ol>
<li>import指令：同一个文件，无论#import多少次，只会包含一次</li>
<li>.m源文件，指message，涉及了oc中核心的消息机制</li>
</ol>
<h2 id="NS相关："><a href="#NS相关：" class="headerlink" title="NS相关："></a>NS相关：</h2><ul>
<li><p>NSLog，增强版printf</p>
<ol>
<li>NSLog的第一个参数是NSString 参数，所以第一个字符是@字符</li>
<li>输出NSString类型的字符串，需要使用占位符%@</li>
</ol>
</li>
<li><p>NSString指针变量： 只能存储OC类型的字符串，即带@前缀的字符串常量</p>
</li>
<li><p>NS前缀：</p>
<blockquote>
<p>NextStep–&gt;Cocoa–&gt;Foundation框架中</p>
</blockquote>
</li>
<li><p>NSMutableArray</p>
</li>
<li><p>NSNumber</p>
</li>
<li><p>NSDictionary</p>
</li>
<li><p>NSMutableDictionary</p>
</li>
<li><p>NSFileManager</p>
</li>
<li><p>CGPoint</p>
</li>
<li><p>CGSize</p>
</li>
<li><p>CGReact</p>
</li>
<li><p>NSValue</p>
</li>
<li></li>
</ul>
<h2 id="符号："><a href="#符号：" class="headerlink" title="@符号："></a>@符号：</h2><blockquote>
<p>在Objective-C中，@符号有不同的用途，取决于它的上下文。</p>
<p>一般来说，@符号可以分为两类：关键字和字面量。</p>
<p>关键字是用@开头的保留词，用于指示编译器执行特定的操作，例如定义类、方法、协议等。</p>
<p>字面量是用@开头的表达式，用于创建对象或值，例如字符串、数组、字典、数字等。</p>
<p>例如：</p>
<ul>
<li>@”Hello” 是一个NSString对象的字面量。</li>
<li>@[@”a”, @”b”, @”c”] 是一个NSArray对象的字面量。</li>
<li>@{@”key”: @”value”} 是一个NSDictionary对象的字面量。</li>
<li>@(42) 是一个NSNumber对象的字面量。</li>
</ul>
</blockquote>
<ol>
<li>将C字符串转换为OC字符串：”jack” –&gt; “@jack”</li>
<li>OC中绝大部分关键字以@符号开头</li>
</ol>
<h3 id="autoreleasepool-自动释放池"><a href="#autoreleasepool-自动释放池" class="headerlink" title="@autoreleasepool:自动释放池"></a>@autoreleasepool:自动释放池</h3><p>延迟release，以免不清楚对象何时release</p>
<h3 id="property参数：相关属性只是做了声明"><a href="#property参数：相关属性只是做了声明" class="headerlink" title="@property参数：相关属性只是做了声明"></a>@property参数：相关属性只是做了声明</h3><blockquote>
<p>@property后面可以跟一些属性，来控制生成的代码的行为¹。常见的属性有以下几种：</p>
<ul>
<li><p>assign：表示生成的setter方法只是简单地赋值，不进行任何内存管理操作。一般用于非OC对象类型，如int、float等³⁵。</p>
</li>
<li><p>strong：表示生成的setter方法会对参数进行强引用，即保持对参数对象的引用，并在适当时候释放它。一般用于OC对象类型，如NSString、NSArray等³⁵。</p>
</li>
<li><p>weak：表示生成的setter方法会对参数进行弱引用，即不保持对参数对象的引用，只在参数对象存在时使用它。一般用于解决循环引用问题，如代理对象等³⁵。</p>
</li>
<li><p>copy：表示生成的setter方法会对参数进行拷贝，而不是直接赋值。这样可以避免修改原对象时影响到属性值。一般用于不可变对象，如NSString、NSArray等² .</p>
</li>
<li><p>nonatomic：表示生成的存取方法不是线程安全的，即不使用同步锁来保证多线程访问时的正确性。这样可以提高性能，但也增加了风险³⁵</p>
</li>
<li><p>atomic：表示生成的存取方法是线程安全的，即使用同步锁来保证多线程访问时的正确性。这样可以减少风险，但也降低了性能。这是默认属性³⁵。</p>
</li>
<li><p>readonly：表示只生成getter方法，而不生成setter方法。这样可以防止属性被修改³⁵。</p>
</li>
<li><p>readwrite：表示既生成getter方法又生成setter方法。这是默认属性³ [^5]^。</p>
</li>
</ul>
</blockquote>
<ol>
<li><p>多线程相关：atomic，unatomic</p>
</li>
<li><p>与setter方法的实现相关的参数：</p>
<ul>
<li><p>assign：默认值，生成的方法的实现就是直接赋值。<strong>用于基本数据类型,没有引用计数,因此不存在增加或减少引用计数;</strong></p>
</li>
<li><p>retain：生成的setter方法的实现是标准的MRC内存管理代码（先判断新旧对象是否为同一对象，如果不是 release旧的，retain新的对象）。注：对象引用计数会+1，需要手动release</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-(void) dealloc &#123;</span><br><span class="line">  [car release];</span><br><span class="line">  [super dealloc];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>读写相关：</p>
<ul>
<li>readonly：只会生成getter</li>
<li>readwrite：getter setter都会生成</li>
</ul>
</li>
</ol>
<h3 id="selector"><a href="#selector" class="headerlink" title="@selector"></a>@selector</h3><p>类成员方法的指针，可以等同于C语言中的函数指针。通过@select(functionName)来取得SEL类型，进行操作</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="私有方法："><a href="#私有方法：" class="headerlink" title="私有方法："></a>私有方法：</h2><ol>
<li>不在@interface中声明，直接写到@implemention中</li>
<li>TODO： <strong>写在空分类category</strong></li>
</ol>
<h2 id="分类Category"><a href="#分类Category" class="headerlink" title="分类Category:"></a>分类Category:</h2><blockquote>
<p>在一个类已经定义好了的情况下，又想向类中增加一些新方法，但是有不想改原来的实现文件，或是找不到实现文件，可以使用category</p>
</blockquote>
<ul>
<li><p>只能提供方法的扩展</p>
</li>
<li><p>分类中的方法可以与现有类的方法重名，但是分类中具有更高的优先级，即会直接取代现有类中的方法</p>
</li>
<li><p>无法提供属性的扩展，<strong>注：可以利用RunTime在Category中添加属性</strong></p>
</li>
</ul>
<h2 id="扩展extension："><a href="#扩展extension：" class="headerlink" title="扩展extension："></a>扩展extension：</h2><ul>
<li><p>用法：</p>
<ol>
<li>扩展文件为单一的.h文件</li>
<li>命名为“类名_类别名”</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;类名.h&quot;</span><br><span class="line"></span><br><span class="line">@interface 类名 ()</span><br><span class="line">// 在此添加私有成员变量、属性、声明方法</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：</p>
<ol>
<li>为类附加额外的属性，成员变量，方法</li>
</ol>
</li>
</ul>
<h2 id="协议protocol"><a href="#协议protocol" class="headerlink" title="协议protocol"></a>协议protocol</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define protocol</span></span><br><span class="line"><span class="class"><span class="keyword">@protocol</span> </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use protocol on class</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">className</span> : <span class="title">NSObject</span> &lt;<span class="title">protocolName</span>&gt; </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h2 id="OC的数据类型："><a href="#OC的数据类型：" class="headerlink" title="OC的数据类型："></a>OC的数据类型：</h2><ul>
<li>id 万能指针<ol>
<li>id 是一种通用的对象类型,它可以指向属于任何类的对象,也可以理解为万能指针 ,相当于C语言的 void *</li>
<li>id是动态类型,所以可以通过id类型直接调用指向对象中的方法, 编译器不会报错。<del><strong>包括private和protected方法</strong></del></li>
</ol>
</li>
<li>sel 方法选择器：函数指针类型</li>
<li>block  代码段：可以理解为局部函数</li>
<li>instancetype ：相较于id，会自动匹配类型</li>
</ul>
<h2 id="MRC"><a href="#MRC" class="headerlink" title="MRC"></a>MRC</h2><p>手动回收，配合retain，release、autorelease使用</p>
<h2 id="ARC"><a href="#ARC" class="headerlink" title="ARC"></a>ARC</h2><p>自动回收，判断对象是否还有强指针指向：</p>
<ol>
<li><p>强指针出作用域，对象被回收</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  __strong Person *p = [Person new]; // 不使用__strong修饰，一样是强指针</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>强指针赋值为nil，对象被回收</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person *p = [Person new];</span><br><span class="line">p = nil;</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p>@property参数不能使用retain，因为retain代表生成的setter方法是MRC的标准内存管理代码。ARC中不需要这些代码</p>
</li>
<li><p>类的属性是oc对象时，需要将该属性声明为强类型的（否则会出现类引用的oc对象先一步类对象销毁，导致引用的目的没有达到，进而出现问题）</p>
</li>
</ul>
<p>使用建议：@property(strong&#x2F;weak&#x2F;assign)</p>
<ol>
<li>在ARC机制下，若属性类型为OC对象类型，绝大多数场景使用strong（其他场景为下面第5点）</li>
<li>在ARC机制下，若属性类型不是OC对象类型，使用assign</li>
<li>strong和weak都是应用在属性类型为OC对象的时候，属性类型不是OC对象时，需要使用assign</li>
<li>在ARC机制下，将MRC中的retain换成strong</li>
<li>在ARC机制下，当两个对象相互引用时，如果两边都是用strong，会出现内存泄漏：一端使用string，一端使用weak，即可解决。注：MRC下，出现这种循环引用时，一方使用retain，一方使用assign即可。</li>
</ol>
<h2 id="MRC与ARC的相互兼容"><a href="#MRC与ARC的相互兼容" class="headerlink" title="MRC与ARC的相互兼容"></a>MRC与ARC的相互兼容</h2><p>Build Phases&#x2F;Compile Source 使用命令：-fno-objc-arc</p>
<h2 id="cocoapods-https-cocoapods-org"><a href="#cocoapods-https-cocoapods-org" class="headerlink" title="cocoapods: https://cocoapods.org/"></a>cocoapods: <a target="_blank" rel="noopener" href="https://cocoapods.org/">https://cocoapods.org/</a></h2><h3 id="install"><a href="#install" class="headerlink" title="install"></a>install</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods // ruby library,use gem ruby tool to install</span><br></pre></td></tr></table></figure>

<h3 id="get-started"><a href="#get-started" class="headerlink" title="get started"></a>get started</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod init </span><br><span class="line">pod install</span><br></pre></td></tr></table></figure>

<ul>
<li>Podfile.lock: 将某一次 <code>pod install</code> 时使用的各个库的版本，以及这个库依赖的其他第三方库的版本记录下来，以供别人使用</li>
<li>pod install：参照podfile.lock</li>
<li>pod update：忽视podfile.lock，按照podfile中的配置，对库进行更新</li>
</ul>
<p>@property内存管理策略的选择</p>
<p>1.非ARC</p>
<p>1&gt; copy :只用于NSString\block；</p>
<p>2&gt; retain :除NSString\block以外的OC对象；</p>
<p>3&gt; assign :基本数据类型、枚举、结构体（非OC对象），当2个对象相互引用，一端用retain，一端           用assign。</p>
<p>2.ARC</p>
<p>1&gt; copy :只用于NSString\block；</p>
<p>2&gt; strong :除NSString\block以外的OC对象；</p>
<p>3&gt; weak :当2个对象相互引用，一端用strong，一端用weak；</p>
<p>4&gt; assgin :基本数据类型、枚举、结构体（非OC对象）</p>
<table>
<thead>
<tr>
<th align="left">Prefix</th>
<th align="left">Framework</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>NS</code></td>
<td align="left">Foundation (OS X and iOS) and Application Kit (OS X)</td>
</tr>
<tr>
<td align="left"><code>UI</code></td>
<td align="left">UIKit (iOS)</td>
</tr>
<tr>
<td align="left"><code>AB</code></td>
<td align="left">Address Book</td>
</tr>
<tr>
<td align="left"><code>CA</code></td>
<td align="left">Core Animation</td>
</tr>
<tr>
<td align="left"><code>CI</code></td>
<td align="left">Core Image</td>
</tr>
</tbody></table>
<p><a href="#jump">点击跳转</a></p>
<p>115</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/Location/location/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/Location/location/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h1 id="Some-Related-Class-Files"><a href="#Some-Related-Class-Files" class="headerlink" title="Some Related Class Files"></a>Some Related Class Files</h1><ul>
<li>LocationHandler</li>
<li>GpsParamsFetcher</li>
<li>SetGpsLocationFetcher</li>
<li>X1GeoFencingViewController: Preferences - Security - Geographic Range</li>
</ul>
<h2 id="LocationHandler"><a href="#LocationHandler" class="headerlink" title="LocationHandler"></a>LocationHandler</h2><h3 id="CLLocationManager"><a href="#CLLocationManager" class="headerlink" title="CLLocationManager"></a>CLLocationManager</h3><p>Priority is also as number said, locationManager below delegate self and implement some <code>CLLocationManagerDelegate</code> methods to listen specific location behaviours.</p>
<ol>
<li>gpsLocationManager</li>
</ol>
<blockquote>
<p>The <strong>Standard</strong> location service provides the most precise and regular location data, but uses more power than the other services. Use it primarily if your app provides turn-by-turn navigation or needs a greater precision or frequency of events. This location service is the only one available to apps running in visionOS. Call <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/corelocation/cllocationmanager/1423750-startupdatinglocation?language=objc"><code>startUpdatingLocation</code></a> to start the service, or call <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/corelocation/cllocationmanager/1620548-requestlocation?language=objc"><code>requestLocation</code></a> to get a single location event.</p>
</blockquote>
<ol start="2">
<li>significantChangeManager:</li>
</ol>
<blockquote>
<p>The <strong>Significant-change</strong> location service offers a low-power way to get location updates. This service uses the cellular and Wi-Fi radios (not GPS) to report only location changes that exceed a significantly large distance. Call <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/corelocation/cllocationmanager/1423531-startmonitoringsignificantlocati?language=objc"><code>startMonitoringSignificantLocationChanges</code></a> to start the service.</p>
</blockquote>
<ol start="3">
<li>regionManager: Creating region monitor for geofence</li>
</ol>
<h2 id="SetGpsLocationFetcher"><a href="#SetGpsLocationFetcher" class="headerlink" title="SetGpsLocationFetcher"></a>SetGpsLocationFetcher</h2><h3 id="SecureHub"><a href="#SecureHub" class="headerlink" title="SecureHub"></a>SecureHub</h3><blockquote>
<p>Send location data to server</p>
</blockquote>
<p>![image-20230901094600201](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230901094600201.png)</p>
<h4 id="sendLocationIfNeeded："><a href="#sendLocationIfNeeded：" class="headerlink" title="sendLocationIfNeeded："></a>sendLocationIfNeeded：</h4><p>Trigger by </p>
<ol>
<li><p><strong>if</strong> ([<strong>self</strong> isGeoFence] &amp;&amp; ![<strong>self</strong> isLocationABadLocation:retrievedLocation])  &#x2F;&#x2F; for geo fence calulation.  </p>
</li>
<li><p><strong>if</strong> ([<strong>self</strong> locationNeedToSendServer] &amp;&amp; [<strong>self</strong> locationAndTimeWithinLimits: retrievedLocation])  &#x2F;&#x2F; if The deviation between this data and the last saved data is greater than is all greater than predefine params, send location.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([<span class="keyword">self</span> locationNeedToSendServer] &amp;&amp; [<span class="keyword">self</span> locationAndTimeWithinLimits: retrievedLocation])</span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="keyword">self</span> saveLastLocationAndTime: retrievedLocation];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Drop background flags</span></span><br><span class="line">        <span class="keyword">if</span> ([<span class="keyword">self</span> isServerSignificantChangeAware])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// For protocol version 9 and above, and 8.0.2 patched servers that are aware of significant change implementation</span></span><br><span class="line">            [<span class="keyword">self</span> sendGPSLocationToServerForReason: LocationReasonSignificantChange location: retrievedLocation];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Older servers - send both track and on-demand.</span></span><br><span class="line">            <span class="keyword">if</span> ([<span class="keyword">self</span> isLocationTrack]) &#123;</span><br><span class="line">                [<span class="keyword">self</span> sendGPSLocationToServerForReason:LocationReasonTrack location:retrievedLocation];</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> ([<span class="keyword">self</span> isLocateMe]) &#123;</span><br><span class="line">                [<span class="keyword">self</span> sendGPSLocationToServerForReason:LocationReasonOnDemand location:retrievedLocation];</span><br><span class="line">                [<span class="keyword">self</span> turnOffLocateMe];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="CEM"><a href="#CEM" class="headerlink" title="CEM"></a>CEM</h3><h4 id="setGpsLocation"><a href="#setGpsLocation" class="headerlink" title="setGpsLocation"></a>setGpsLocation</h4><ol>
<li>Update gps location data to DB</li>
<li>Update locate and track - security action behaviour:<ol>
<li>status(succeed or failed)</li>
<li>timestamp</li>
</ol>
</li>
</ol>
<h2 id="GpsParamsFetcher"><a href="#GpsParamsFetcher" class="headerlink" title="GpsParamsFetcher"></a>GpsParamsFetcher</h2><blockquote>
<p>Get series of location parameters as below table show</p>
</blockquote>
<ul>
<li><p>Add obeserver with <code>kSessionTokenChangedNotification</code> notification</p>
<ul>
<li>setSessionToken, token changed.</li>
</ul>
</li>
<li><p>NSTimer:</p>
<ul>
<li>register remote notification - 7200s: app server send apns server, apns server send to device</li>
<li>Local notification - 300s: app send to device</li>
</ul>
</li>
</ul>
<h1 id="Some-Code-Keys-Mapping-to-Server-Properties"><a href="#Some-Code-Keys-Mapping-to-Server-Properties" class="headerlink" title="Some Code Keys Mapping to Server Properties"></a>Some Code Keys Mapping to Server Properties</h1><table>
<thead>
<tr>
<th>code Key</th>
<th>Property KEY</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>locOn</td>
<td>console.location.enabled</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>locate</td>
<td>N&#x2F;A</td>
<td>NO</td>
<td>Locate in Security Action - No usage in SH</td>
</tr>
<tr>
<td>locTrack</td>
<td>N&#x2F;A</td>
<td>NO</td>
<td>Enable Tracking in Security Action - No usage in SH</td>
</tr>
<tr>
<td>locSend</td>
<td></td>
<td></td>
<td>No usage in SH</td>
</tr>
<tr>
<td>locUpdateDelay</td>
<td>console.location.update.delay</td>
<td>600</td>
<td>poll interval, param in SH timer</td>
</tr>
<tr>
<td>locUpdateOnLaunch</td>
<td>N&#x2F;A</td>
<td></td>
<td>Report on start up (on&#x2F;off) - No usage in SH</td>
</tr>
<tr>
<td>locUpdateTimeout</td>
<td>console.location.update.timeout</td>
<td>60</td>
<td>Location timeout in Location Policy</td>
</tr>
<tr>
<td>locTrackTimeout</td>
<td>console.location.track.timeout</td>
<td>21600</td>
<td>Tracking duration in Location Policy</td>
</tr>
<tr>
<td>locAccuracy</td>
<td>console.location.accuracy</td>
<td>100</td>
<td>Accuracy in Location Policy</td>
</tr>
<tr>
<td>locationFenceRadius</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, Radius in Location Policy</td>
</tr>
<tr>
<td>locationFenceX</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, Center point longitude in Location Policy</td>
</tr>
<tr>
<td>locationFenceY</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, Center point latitude in Location Policy</td>
</tr>
<tr>
<td>locationFenceBreachAction</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, Warn user on perimeter breach in Location Policy</td>
</tr>
<tr>
<td>locSelWipeDelay</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config</td>
</tr>
<tr>
<td>locSignificantInterval</td>
<td>console.location.significant.interval</td>
<td></td>
<td>300</td>
</tr>
<tr>
<td>locSignificantDistance</td>
<td>console.location.significant.distance</td>
<td></td>
<td>500</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="gps-config"><a href="#gps-config" class="headerlink" title="gps config"></a>gps config</h2><p>Location Policy</p>
<h2 id="locSend"><a href="#locSend" class="headerlink" title="locSend"></a>locSend</h2><p>locUpdateOnLaunch || locUpdateOnPolling || locate || locTrack;</p>
<h1 id="Security-Action"><a href="#Security-Action" class="headerlink" title="Security Action"></a>Security Action</h1><blockquote>
<p><code>Location</code> and <code>Enable Tracking</code> won’t take effect in SecureHub. It totally works in CEM server.</p>
</blockquote>
<h3 id="Locate"><a href="#Locate" class="headerlink" title="Locate"></a>Locate</h3><ul>
<li>locate: no valid logic in SH, should have some logic in the server.</li>
</ul>
<h3 id="Enable-Tracking"><a href="#Enable-Tracking" class="headerlink" title="Enable Tracking"></a>Enable Tracking</h3><p>Key below no valid logic in SH, should have some logic in the server.</p>
<ul>
<li><p>locTrack</p>
</li>
<li><p>locTrackTimeout</p>
</li>
</ul>
<h1 id="Location-Policy"><a href="#Location-Policy" class="headerlink" title="Location Policy"></a>Location Policy</h1><p>If this policy is configured, it will show same dg details as security action - locate : <strong>Device located</strong>.</p>
<p>The difference is that we could view the request time and event in the security action.</p>
<p>![image-20230901155922392](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230901155922392.png)</p>
<table>
<thead>
<tr>
<th>code Key</th>
<th>Property KEY</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>locUpdateTimeout</td>
<td>console.location.update.timeout</td>
<td>60</td>
<td><strong>Location timeout</strong> in Location Policy</td>
</tr>
<tr>
<td>locTrackTimeout</td>
<td>console.location.track.timeout</td>
<td>21600</td>
<td><strong>Tracking duration</strong> in Location Policy</td>
</tr>
<tr>
<td>locAccuracy</td>
<td>console.location.accuracy</td>
<td>100</td>
<td><strong>Accuracy</strong> in Location Policy</td>
</tr>
<tr>
<td>locationFenceRadius</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, <strong>Radius</strong> in Location Policy</td>
</tr>
<tr>
<td>locationFenceX</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, <strong>Center point longitude</strong> in Location Policy</td>
</tr>
<tr>
<td>locationFenceY</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, Center point latitude in Location Policy</td>
</tr>
<tr>
<td>locationFenceBreachAction</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config, <strong>Warn user on perimeter breach</strong> in Location Policy</td>
</tr>
<tr>
<td>locSelWipeDelay</td>
<td>N&#x2F;A</td>
<td></td>
<td>Fetch from gps config</td>
</tr>
</tbody></table>
<p>locUpdateTimeout: timer logic like below</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="type">void</span>)locationTimeOutTimerTimeout:(<span class="built_in">NSTimer</span> *)timer    &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CLLocation</span>* mostRecentGPSLocation = gpsLocationManager.location;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!mostRecentGPSLocation || ![<span class="keyword">self</span> isLocationWithinLastUpdateInterval:mostRecentGPSLocation]) &#123;</span><br><span class="line">        <span class="comment">// Store a bad location</span></span><br><span class="line">        <span class="keyword">self</span>.gpsStatus = LocationAuthStatusUnavail;</span><br><span class="line">        mostRecentGPSLocation = <span class="keyword">self</span>.badLocation;</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="keyword">self</span> sendLocationIfNeeded:mostRecentGPSLocation];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>locTrackTimeout:</strong> </p>
<p>No usage</p>
<p><strong>locAccuracy:</strong> </p>
<p>if the new location’s accuracy is lower than predefined locAccuracy, will send location to server when delegate method is called.</p>
<h2 id="Non-GeoFence"><a href="#Non-GeoFence" class="headerlink" title="Non-GeoFence"></a>Non-GeoFence</h2><h1 id="Security-Action-1"><a href="#Security-Action-1" class="headerlink" title="Security Action"></a>Security Action</h1><h2 id="Locate-1"><a href="#Locate-1" class="headerlink" title="Locate"></a>Locate</h2><blockquote>
<p>Locates a device and reports the device location, including a map, on the Manage &gt; Devices page, under Device details &gt; General. Locate is a one-time action. Use Locate to display the current device location at the time you do the action. To continuously track the device over a period, use Enable tracking</p>
<p>When applying this feature to iOS or Android Enterprise devices, be aware of the following limitations:</p>
<ul>
<li>For iOS devices, the command succeeds only if the devices are in MDM Lost Mode.</li>
</ul>
</blockquote>
<ul>
<li>only if the devices are in MDM Lost Mode.???</li>
</ul>
<h3 id="Current-Server-logic"><a href="#Current-Server-logic" class="headerlink" title="Current Server logic:"></a>Current Server logic:</h3><p>Update Action status:</p>
<ul>
<li>At first, action status is set as <code>Requested</code></li>
<li>And then, trigger a apns command, apns send type - <strong>alert</strong></li>
<li>At last, if location data is fetched from <code>device_property</code> table, action status is set as <code>Success</code></li>
</ul>
<h2 id="Enable-Tracking-1"><a href="#Enable-Tracking-1" class="headerlink" title="Enable Tracking"></a>Enable Tracking</h2><blockquote>
<p>On Android or iOS devices, this command allows Endpoint Management to poll the location of specific devices at a frequency you define. To view device coordinates and location on a map, go to <strong>Manage &gt; Devices</strong>, select a device, and then click <strong>Edit</strong>. The device info is on the <strong>General</strong> tab under <strong>Security</strong>. Use <strong>Enable tracking</strong> to track the device continuously. Secure Hub reports the location periodically when the device is running.</p>
</blockquote>
<h2 id="Enable-Disable-Lost-Mode"><a href="#Enable-Disable-Lost-Mode" class="headerlink" title="Enable&#x2F;Disable Lost Mode"></a>Enable&#x2F;Disable Lost Mode</h2><p>For supervised iOS device only: DEP or Shared iPADs</p>
<blockquote>
<p>Puts a <strong>supervised iOS</strong> device in Lost Mode and sends the device a message, phone number, and a footnote to display. The second time that you send this command takes the device out of Lost Mode.</p>
</blockquote>
<p>Request the location of a device when in Lost Mode. Already implemented in CEM. </p>
<ul>
<li>DOC: <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/devicemanagement/get_the_location_of_a_device?language=objc">https://developer.apple.com/documentation/devicemanagement/get_the_location_of_a_device?language=objc</a></li>
</ul>
<h1 id="Location-Update-Strategy"><a href="#Location-Update-Strategy" class="headerlink" title="Location Update Strategy"></a>Location Update Strategy</h1><h2 id="locUpdateDelay"><a href="#locUpdateDelay" class="headerlink" title="locUpdateDelay:"></a>locUpdateDelay:</h2><p>fetch from client property - console.location.update.delay: default value 60</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span> initialize:<span class="literal">NO</span>];</span><br></pre></td></tr></table></figure>

<p>go to <strong>sendLocationIfNeeded</strong> logic</p>
<h2 id="locUpdateTimeout"><a href="#locUpdateTimeout" class="headerlink" title="locUpdateTimeout:"></a>locUpdateTimeout:</h2><p>fetch from location policy - Location timeout</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="type">void</span>)locationTimeOutTimerTimeout:(<span class="built_in">NSTimer</span> *)timer    &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CLLocation</span>* mostRecentGPSLocation = gpsLocationManager.location;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!mostRecentGPSLocation || ![<span class="keyword">self</span> isLocationWithinLastUpdateInterval:mostRecentGPSLocation]) &#123;</span><br><span class="line">        <span class="comment">// Store a bad location</span></span><br><span class="line">        <span class="keyword">self</span>.gpsStatus = LocationAuthStatusUnavail;</span><br><span class="line">        mostRecentGPSLocation = <span class="keyword">self</span>.badLocation;</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="keyword">self</span> sendLocationIfNeeded:mostRecentGPSLocation];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="locTrackTimeout"><a href="#locTrackTimeout" class="headerlink" title="locTrackTimeout:"></a>locTrackTimeout:</h2><p>fetch from location policy - Track timeout</p>
<h2 id="Security-Action-Lost-Mode"><a href="#Security-Action-Lost-Mode" class="headerlink" title="Security Action - Lost Mode"></a>Security Action - Lost Mode</h2><h1 id="Enhancement"><a href="#Enhancement" class="headerlink" title="Enhancement"></a>Enhancement</h1><ul>
<li><p>SecureHub could not report location and get gps parameter continuously when app is in background?</p>
</li>
<li><p>Security Action including locate and enable tracking do not work as expected, send an apns command(alert type) to device, and SH need to take action.Also, server may change the command type to location.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/pushing_background_updates_to_your_app?language=objc">https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/pushing_background_updates_to_your_app?language=objc</a></p>
</blockquote>
<ul>
<li><input disabled="" type="checkbox"> CEM update APNS command logic</li>
<li><input disabled="" type="checkbox"> SH calls your app delegate’s method</li>
<li><input disabled="" type="checkbox"> Integrate location push service, add a new target- <code>Location Push Service Extension</code></li>
</ul>
</li>
<li><p>Location policy won’t take effect, those params like timeout is not valid.</p>
</li>
</ul>
<h1 id="Groom"><a href="#Groom" class="headerlink" title="Groom"></a>Groom</h1><p>Stage1:</p>
<ul>
<li>Fix Security Action 2</li>
<li>Update CEM document 2</li>
</ul>
<p>Stage2: 5</p>
<ul>
<li><p>Integrate All Needed Background Modes in SecureHub : <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/xcode/configuring-background-execution-modes">https://developer.apple.com/documentation/xcode/configuring-background-execution-modes</a></p>
<blockquote>
<p>Including: </p>
<ul>
<li>Location updates</li>
<li>Background fetch</li>
<li>Background processing</li>
</ul>
<p>Make corresponding changes for four CLLocationManager</p>
<ul>
<li><strong>@property</strong> (<strong>nonatomic</strong>, <strong>strong</strong>) CLLocationManager *gpsLocationManager;</li>
<li><strong>@property</strong> (<strong>nonatomic</strong>, <strong>strong</strong>) CLLocationManager *significantChangeManager;</li>
<li><strong>@property</strong> (<strong>nonatomic</strong>, <strong>strong</strong>) CLLocationManager *regionManager;</li>
<li><strong>@property</strong> (<strong>nonatomic</strong>, <strong>strong</strong>) CLLocationManager *authorizationListener;</li>
</ul>
</blockquote>
</li>
</ul>
<p>Stage3: 13 points</p>
<p>Design + Test 6</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/APNS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/APNS/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant I as iPhone (设备)</span><br><span class="line">    participant A as APNS</span><br><span class="line">    participant S as Server (后台服务器)</span><br><span class="line"></span><br><span class="line">		autonumber</span><br><span class="line">		</span><br><span class="line">    %% 设备注册推送并获取设备令牌</span><br><span class="line">    I-&gt;&gt;A: 注册推送通知 (registerForRemoteNotifications)</span><br><span class="line">    A--&gt;&gt;I: 返回设备令牌 (Device Token)</span><br><span class="line">    I-&gt;&gt;S: 发送设备令牌给后台服务器 (via HTTPS)</span><br><span class="line"></span><br><span class="line">    %% 设备与 APNS 建立长连接</span><br><span class="line">    I-&gt;&gt;A: 建立 TCP 长连接 (端口 5223/443)</span><br><span class="line">    Note right of A: 长连接维持，设备主动发起</span><br><span class="line"></span><br><span class="line">    %% 推送通知流程</span><br><span class="line">    S-&gt;&gt;A: 发送推送请求 (HTTP/2, 携带 Device Token)</span><br><span class="line">    Note right of S: 短连接，按需发起</span><br><span class="line">    A-&gt;&gt;I: 通过长连接推送通知给设备</span><br><span class="line">    Note right of I: 系统处理通知 (显示/角标等)</span><br><span class="line"></span><br><span class="line">    %% 断网后重连</span><br><span class="line">    I--xA: 网络断开，长连接中断</span><br><span class="line">    I-&gt;&gt;A: 网络恢复，主动重连 (携带 Device Token)</span><br><span class="line">    Note right of A: APNS 更新连接状态</span><br><span class="line"></span><br><span class="line">    %% 再次推送</span><br><span class="line">    S-&gt;&gt;A: 发送新的推送请求</span><br><span class="line">    A-&gt;&gt;I: 通过新连接推送通知</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line"></span><br><span class="line">    participant Client as NSURLSession\nWith Proxy</span><br><span class="line">    participant Proxy as Socks5 Proxy Server</span><br><span class="line">    participant Gateway</span><br><span class="line">    participant Exchange</span><br><span class="line"></span><br><span class="line">    Note over Client, Proxy: Phase 1 - Connection Setup</span><br><span class="line">    Client-&gt;&gt;Proxy: 1.1 - SOCKS Negotiation</span><br><span class="line">    Proxy--&gt;&gt;Client: No Auth Required</span><br><span class="line">    Client-&gt;&gt;Proxy: 1.2 - CONNECT cmd\n(Exchange Address)</span><br><span class="line">    </span><br><span class="line">    Note over Proxy, Gateway: Phase 2 - Gateway Relay</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 2.1 - SOCKS Negotiation</span><br><span class="line">    Gateway--&gt;&gt;Proxy: Response</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 2.2 - CONNECT cmd\n(STA + Exchange Address)</span><br><span class="line">    Gateway--&gt;&gt;Proxy: STA Connection Established</span><br><span class="line">    Proxy--&gt;&gt;Client: SOCKS Connected\n(Exchange Address)</span><br><span class="line"></span><br><span class="line">    Note over Client, Exchange: Phase 3 - TLS Handshake</span><br><span class="line">    Client-&gt;&gt;Proxy: 3.1 - ClientHello\n(Exchange Address)</span><br><span class="line">    Proxy-&gt;&gt;Gateway: 3.2 - Forward Data</span><br><span class="line">    Gateway-&gt;&gt;Exchange: 3.3 - Forward Data</span><br><span class="line">    Exchange-&gt;&gt;Gateway: 3.4 - ServerHello</span><br><span class="line">    Gateway-&gt;&gt;Proxy: 3.5 - Forward Data</span><br><span class="line">    Proxy-&gt;&gt;Client: 3.6 - Response Received</span><br><span class="line"></span><br><span class="line">    Note over Client, Exchange: Phase 4 - Repeat Handshake</span><br><span class="line">    loop Handshake Steps</span><br><span class="line">        Client-&gt;&gt;Proxy: 4.x - TLS Handshake Data</span><br><span class="line">        Proxy-&gt;&gt;Gateway: Forward</span><br><span class="line">        Gateway-&gt;&gt;Exchange: Forward</span><br><span class="line">        Exchange--&gt;&gt;Client: Response (via Gateway/Proxy)</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/Enrollment%20Process/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/SecureHub/Enrollment%20Process/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h1 id="MDM-Enrollment"><a href="#MDM-Enrollment" class="headerlink" title="MDM Enrollment"></a>MDM Enrollment</h1><h2 id="ADS"><a href="#ADS" class="headerlink" title="ADS"></a>ADS</h2><h3 id="Request-Response"><a href="#Request-Response" class="headerlink" title="Request&#x2F;Response"></a>Request&#x2F;Response</h3><ol>
<li><p>Add full log to record ads request and response result:</p>
<ol>
<li>-[ADFetcher addVnextRequest:withBackupADS:]</li>
<li>-[ADFetcher convertToCEMDictionary:]</li>
</ol>
</li>
<li><p>Check ADS response dictionary:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;epz.nl&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;appcAGUrl&quot;</span><span class="punctuation">:</span><span class="string">&quot;mam.epz.nl:443&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;cem&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;iosEnrollmentPort&quot;</span><span class="punctuation">:</span><span class="number">8443</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;instance&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;hostName&quot;</span><span class="punctuation">:</span><span class="string">&quot;mdm.epz.nl&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;lastUpdate&quot;</span><span class="punctuation">:</span><span class="string">&quot;2023-06-12T13:43:43.743Z&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;zdm&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;portNumber&quot;</span><span class="punctuation">:</span><span class="number">443</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;requireCertPinning&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;appcAGUrl&quot;</span><span class="punctuation">:</span><span class="string">&quot;mam.epz.nl:443&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;requireTrustedCAAppc&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;httpPortNumber&quot;</span><span class="punctuation">:</span><span class="number">443</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;requireTrustedCA&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;displayReEnrollLink&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;exp&quot;</span><span class="punctuation">:</span><span class="number">1703665327</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;iat&quot;</span><span class="punctuation">:</span><span class="number">1703578927</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>iosEnrollmentPort: Must be <strong>8443</strong></li>
</ol>
</li>
</ol>
<h3 id="Feature-Flags"><a href="#Feature-Flags" class="headerlink" title="Feature Flags"></a>Feature Flags</h3><p>FF below are all ON by default, delete or update some related logs.</p>
<ul>
<li><p>use-vnext-ads-migration-completed</p>
</li>
<li><p>use-vnext-ads</p>
</li>
</ul>
<h2 id="Enrollment-Information"><a href="#Enrollment-Information" class="headerlink" title="Enrollment Information"></a>Enrollment Information</h2><p>Add logs to record enrollment mode and enrollment profile:</p>
<ul>
<li><p>-[MdmInterface getUserEligibilityForMultimode:serverHostname:serverName:withCompletionBlock:] : <strong>Triggered when user click next button in URL page</strong></p>
<blockquote>
<p>Multi mode is mostly <code>MultiModePreferenceMFA</code></p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    MultiModePreferenceWorkspace = <span class="number">1</span>,   <span class="comment">// Workspace is enabled and MM is also enabled or MM is off workspace will get priority and IDP is ON or OFF</span></span><br><span class="line">    MultiModePreferenceEnrollmentModeIDP, <span class="comment">// if Enrollment Mode is IDP and MM is ON or OFF IDP get priority</span></span><br><span class="line">    MultiModePreferenceMultiMode, <span class="comment">// Plain Multimode</span></span><br><span class="line">    MultiModePreferenceMFA, <span class="comment">//Multimpde MFA</span></span><br><span class="line">    MultiModePreferenceMFAEnrollmentModeIDP, <span class="comment">// MFA IDP</span></span><br><span class="line">    MultiModePreferenceNotSet <span class="comment">// Legacy</span></span><br><span class="line">&#125; MultiModePreference;</span><br></pre></td></tr></table></figure>


</li>
<li><p>getEnrollmentProfileForMultimode: <strong>Triggered when user click next button in URL page</strong></p>
</li>
<li><p>-[AppFlowController handleMultimodeEnrollment:] : <strong>Triggered when user click next button in Auth Page</strong></p>
</li>
</ul>
<h2 id="Key-Process"><a href="#Key-Process" class="headerlink" title="Key Process"></a>Key Process</h2><p>Add log in the function entry and exit point of <code>-[X1MDMEnrollFlowController setState:]</code> function.</p>
<p>Enrollment Status:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">typedef enum &#123;</span><br><span class="line">    kStateReset = 0,</span><br><span class="line">    kStateGetProtocolVersion,</span><br><span class="line">    kStateServerInfo,</span><br><span class="line">    kStateUserInput,</span><br><span class="line">    kStateCreateEnrollSession,</span><br><span class="line">    kStateShowTerms,</span><br><span class="line">    kStateDoMamEnrollment,</span><br><span class="line">    kStateGetPortal,</span><br><span class="line">    kStateFinalizeEnrollment,</span><br><span class="line">    kStateVerifyEnrollment,</span><br><span class="line">    kStateGetCertificate,</span><br><span class="line">    kStateEndEnrollment,</span><br><span class="line">    kStateCloseEnrollSession,</span><br><span class="line">    kStateCreateSecureSession,</span><br><span class="line">    kStateGetAGCertificate,</span><br><span class="line">    kStateEnrollmentDone,</span><br><span class="line">    kStateRetry,</span><br><span class="line">    kStateError,</span><br><span class="line">    kStateGetEnrollmentConfig,</span><br><span class="line">    kStateOAuthUserInput,</span><br><span class="line">    kStateMDMInfo,</span><br><span class="line">    //Derived Credentials State</span><br><span class="line">    kStateCreatePin,</span><br><span class="line">    kStateDeriveCredentials</span><br><span class="line">&#125; State;</span><br></pre></td></tr></table></figure>

<p><img src="/Users/junkangd/XenMobile/outputs-ios/mdm-enrollment.png" alt="mdm-enrollment"></p>
<ul>
<li><p>-[AppFlowController startMdmEnrollment]: Accept Device Management Alert</p>
</li>
<li><p>-[AppFlowController handleMdmEnrollment:]: After Enrollment profile was installed, user open SH</p>
<p>![image-20231228162037456](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20231228162037456.png)</p>
</li>
</ul>
<h1 id="MAM-Enrollment"><a href="#MAM-Enrollment" class="headerlink" title="MAM Enrollment"></a>MAM Enrollment</h1><ul>
<li>-[AppFlowController startMAMEnrollment]</li>
<li>-[AppFlowController startMamEnrollmentWithServer:username:password:]</li>
<li>-[StoreOperations_New MAMEnroll:username:password:]<ul>
<li>setGatewayDetailsFromAuthManagerForStore</li>
<li>saveFedAuthUserInfoWithCompletion</li>
<li>getDiscoveryDocument</li>
<li>getStoreFrontSetting</li>
<li>checkTiffanyAndStoreFrontSupport</li>
<li>checkDeviceStatusTask</li>
<li>…..</li>
</ul>
</li>
</ul>
<h1 id="Login-Logout"><a href="#Login-Logout" class="headerlink" title="Login&#x2F;Logout"></a>Login&#x2F;Logout</h1><ul>
<li>performLogOff</li>
</ul>
<h1 id="Add-Detailed-Logs"><a href="#Add-Detailed-Logs" class="headerlink" title="Add Detailed Logs"></a>Add Detailed Logs</h1><p>With clear format logs, we could better analysis issue with SH logs </p>
<p><strong>Log Fomart:</strong></p>
<p>CTXLOG_Debug(@”MAM”, @”setGatewayDetailsFromAuthManagerForStore - Request begin”);</p>
<p>…… &#x2F;&#x2F;All kinds of log messages</p>
<p>CTXLOG_Info(@”MAM”, @”Request end”);</p>
<p><strong>Example:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CTXLOG_Info(@&quot;MAM&quot;, @&quot;setGatewayDetailsFromAuthManagerForStore - begin&quot;);</span><br><span class="line">...... //All kinds of log messages</span><br><span class="line">CTXLOG_Info(@&quot;MAM&quot;, @&quot;setGatewayDetailsFromAuthManagerForStore end&quot;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&quot; 2024-01-17T14:06:48.219+0800 &quot;,&lt;MDM&gt;,INFO (4),-[AppFlowController autoDiscoveryHandler:secondaryURL:userData:onCompletion:],&quot;Entry point&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Me@Work/Controller/AppFlowController.m,3800</span><br><span class="line">&quot; 2024-01-17T14:06:48.219+0800 &quot;,AutoDiscovery,INFO (4),-[AppFlowController autoDiscoveryHandler:secondaryURL:userData:onCompletion:],&quot;Auto Discovery Call - Initiate request to auto discovery&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Me@Work/Controller/AppFlowController.m,4089</span><br><span class="line">&quot; 2024-01-17T14:06:48.219+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher addVnextRequest:withBackupADS:],&quot;Entry point&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,400</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,AutoDiscovery,INFO (4),+[ADFetcher logADServer:],&quot;Connecting to debug ADS server https://discovery.cem.cloud.us/ads/root/host/mdm.epz.nl/product/cem&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,80</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher addVnextRequest:withBackupADS:],&quot;Request information | URL: https://discovery.cem.cloud.us/ads/root/host/mdm.epz.nl/product/cem, isThroughAuthManager: 0&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,419</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,DETAIL (5),-[RequestParameters addRequestParameter:],&quot;http request tracing Id: traceparent&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/RequestParameters.m,61</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,INFO (4),-[RequestParameters addRequestParameter:],&quot;http headers (3):&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/RequestParameters.m,145</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,INFO (4),-[RequestParameters addRequestParameter:],&quot;traceparent:00-d3c0a3c2f3654377b29e1564c18a8ba7-85858d4fdae94cd7-00&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/RequestParameters.m,154</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,INFO (4),-[RequestParameters addRequestParameter:],&quot;Citrix-TransactionId:D3C0A3C2-F365-4377-B29E-1564C18A8BA7&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/RequestParameters.m,154</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,INFO (4),-[RequestParameters addRequestParameter:],&quot;Content-Type:application/json&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/RequestParameters.m,154</span><br><span class="line">&quot; 2024-01-17T14:06:48.220+0800 &quot;,&lt;X1_NETWORKING&gt;,DEBUG1 (6),+[X1NetworkRequest startNetworkRequest:withRequestParams:withSuccessBlock:failureBlock:andAuthenticationChallengeHandler:andSessionManager:],&quot;start request with id 15 and value https://discovery.cem.cloud.us/ads/root/host/mdm.epz.nl/product/cem&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/X1NetworkRequest.m,525</span><br><span class="line">&quot; 2024-01-17T14:06:48.221+0800 &quot;,&lt;X1_NETWORKING&gt;,DEBUG1 (6),+[X1NetworkRequest startNetworkRequest:withRequestParams:withSuccessBlock:failureBlock:andAuthenticationChallengeHandler:andSessionManager:],&quot;start request with id 15 and value (redacted) https://*****/ads/root/host/mdm.epz.nl/product/cem&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/X1NetworkRequest.m,526</span><br><span class="line">&quot; 2024-01-17T14:06:48.221+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher addVnextRequest:withBackupADS:],&quot;Exit point&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,554</span><br><span class="line">&quot; 2024-01-17T14:06:48.221+0800 &quot;,&lt;MDM&gt;,INFO (4),-[AppFlowController autoDiscoveryHandler:secondaryURL:userData:onCompletion:],&quot;Exit point&quot;,-,com.apple.root.user-initiated-qos,12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Me@Work/Controller/AppFlowController.m,4098</span><br><span class="line">&quot; 2024-01-17T14:06:48.246+0800 &quot;,APP_LIFECYCLE,INFO (4),-[AppDelegate application:shouldAllowExtensionPointIdentifier:],&quot;shouldAllowExtensionPointIdentifier&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Me@Work/AppDelegate.m,133</span><br><span class="line">&quot; 2024-01-17T14:06:48.333+0800 &quot;,WHGenericVault,INFO (4),-[WHGenericVault isUserEnrolled]_block_invoke,&quot;User is not MDM Enrolled: UserName-0 , ServerAddress-0, EnrollmentDate-0&quot;,-,com.citrix.GenericVaultQueue,9713,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Me@Work/WHGenericVault.m,401</span><br><span class="line">&quot; 2024-01-17T14:06:48.581+0800 &quot;,&lt;MAM&gt;,DEBUG1 (6),+[CertificateManagerInterface handleAuthenticationChallenge:andChallenge:outIfClientCertificateChallenge:andCredentials:],&quot;received challenge NSURLAuthenticationMethodServerTrust&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/CertificateManagement/CertificateManagerInterface.m,490</span><br><span class="line">&quot; 2024-01-17T14:06:48.592+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = 2 identifier =(null)&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.592+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 16, bytes = 0x083be056904246b1a1756ac95991c74a&#125; identifier =(null)&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.593+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &lt;null&gt; identifier =1.2.840.113549.1.1.5&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.593+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = US identifier =2.5.4.6&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.593+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = DigiCert Inc identifier =2.5.4.10&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.593+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = www.digicert.com identifier =2.5.4.11&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.593+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = DigiCert Global Root CA identifier =2.5.4.3&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = US identifier =2.5.4.6&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = DigiCert Inc identifier =2.5.4.10&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = www.digicert.com identifier =2.5.4.11&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = DigiCert Global Root CA identifier =2.5.4.3&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &lt;null&gt; identifier =1.2.840.113549.1.1.1&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 270, bytes = 0x3082010a 02820101 00e23be1 1172dea8 ... c3af2702 03010001 &#125; identifier =1.2.840.113549.1.1.1&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = 1 identifier =2.5.29.15&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 4, bytes = 0x03020186&#125; identifier =2.5.29.15&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = 1 identifier =2.5.29.19&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 5, bytes = 0x30030101ff&#125; identifier =2.5.29.19&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 22, bytes = 0x041403de503556d14cbb66f0a3e21b1bc397b23dd155&#125; identifier =2.5.29.14&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 24, bytes = 0x3016801403de503556d14cbb66f0a3e21b1bc397b23dd155&#125; identifier =2.5.29.35&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &lt;null&gt; identifier =1.2.840.113549.1.1.5&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,DEBUG2 (7),-[CtxCertInfo addObject:forIdentifier:],&quot;Certificate Info: object = &#123;length = 256, bytes = 0xcb9c37aa 4813120a fadd449c 4f52b0f4 ... 3cc6e9d5 95956dde &#125; identifier =1.2.840.113549.1.1.5&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/ctxLibs/me@WorkCommon/me@WorkCommon/Certificates/CtxCertInfo.m,106</span><br><span class="line">&quot; 2024-01-17T14:06:48.595+0800 &quot;,&lt;CERT&gt;,INFO (4),-[AuthCertificateHandler handleServerCertificate:protSpace:withCompletion:],&quot;handling cert trust for host:discovery.cem.cloud.us:443&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Certificates/AuthCertificateHandler.m,53</span><br><span class="line">&quot; 2024-01-17T14:06:48.601+0800 &quot;,&lt;CERT&gt;,INFO (4),-[AuthCertificateHandler handleServerCertificate:protSpace:withCompletion:],&quot;isPublicCertificate = YES&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Certificates/AuthCertificateHandler.m,174</span><br><span class="line">&quot; 2024-01-17T14:06:48.601+0800 &quot;,PCERTS,DEBUG5 (10),-[pinServerCertificates validateV1PinnedOrPinCertificate:forHost:adsServer:],&quot;Validate ADS server public key 1&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Certificates/pinServerCertificates.m,152</span><br><span class="line">&quot; 2024-01-17T14:06:48.601+0800 &quot;,PCERTS,DEBUG1 (6),-[pinServerCertificates checkV1ServerCertificatePinningForHost:serverTrustRef:],&quot;Checking server certificate pinning for discovery.cem.cloud.us:443 returning value of isCertificatePinned = 1, trust: OK&quot;,-,NSOperationQueue 0x10703cd30 (QOS: UNSPECIFIED),12a1b,,/Users/junkangd/XenMobile/secure-hub/Me@Work/Certificates/pinServerCertificates.m,135</span><br><span class="line">&quot; 2024-01-17T14:06:48.773+0800 &quot;,&lt;X1_NETWORKING&gt;,DEBUG1 (6),+[X1NetworkRequest startNetworkRequest:withRequestParams:withSuccessBlock:failureBlock:andAuthenticationChallengeHandler:andSessionManager:]_block_invoke,&quot;request with id 15 succeeded with httpResponse code 200&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/X1NetworkRequest.m,536</span><br><span class="line">&quot; 2024-01-17T14:06:48.774+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher addVnextRequest:withBackupADS:]_block_invoke,&quot;Response information | httpResponseCode: 200, error: (null)&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,428</span><br><span class="line">&quot; 2024-01-17T14:06:48.774+0800 &quot;,AutoDiscovery,DEBUG1 (6),-[ADFetcher addVnextRequest:withBackupADS:]_block_invoke,&quot;Successfully connected to the vNext Discovery server&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,431</span><br><span class="line">&quot; 2024-01-17T14:06:48.774+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher convertToCEMDictionary:],&quot;Entry point&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,581</span><br><span class="line">&quot; 2024-01-17T14:06:48.775+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher convertToCEMDictionary:],&quot;Middle status | adFetcherReturnDictionary: &#123;</span><br><span class="line"> appcAGUrl = &quot;mam.epz.nl:443&quot;;</span><br><span class="line"> cem = &#123;</span><br><span class="line"> appcAGUrl = &quot;mam.epz.nl:443&quot;;</span><br><span class="line"> displayReEnrollLink = 1;</span><br><span class="line"> httpPortNumber = 443;</span><br><span class="line"> instance = &#123;</span><br><span class="line"> hostName = &quot;mdm.epz.nl&quot;;</span><br><span class="line"> lastUpdate = &quot;2023-06-12T13:43:43.743Z&quot;;</span><br><span class="line"> name = zdm;</span><br><span class="line"> portNumber = 443;</span><br><span class="line"> &#125;;</span><br><span class="line"> iosEnrollmentPort = 8443;</span><br><span class="line"> requireCertPinning = 0;</span><br><span class="line"> requireTrustedCA = 0;</span><br><span class="line"> requireTrustedCAAppc = 0;</span><br><span class="line"> &#125;;</span><br><span class="line"> domain = &#123;</span><br><span class="line"> name = &quot;epz.nl&quot;;</span><br><span class="line"> &#125;;</span><br><span class="line"> exp = 1705557985;</span><br><span class="line"> iat = 1705471585;</span><br><span class="line">&#125; | cemDictionary: &#123;</span><br><span class="line"> appcAGUrl = &quot;mam.epz.nl:443&quot;;</span><br><span class="line"> displayReEnrollLink = 1;</span><br><span class="line"> httpPortNumber = 443;</span><br><span class="line"> instance = &#123;</span><br><span class="line"> hostName = &quot;mdm.epz.nl&quot;;</span><br><span class="line"> lastUpdate = &quot;2023-06-12T13:43:43.743Z&quot;;</span><br><span class="line"> name = zdm;</span><br><span class="line"> portNumber = 443;</span><br><span class="line"> &#125;;</span><br><span class="line"> iosEnrollmentPort = 8443;</span><br><span class="line"> requireCertPinning = 0;</span><br><span class="line"> requireTrustedCA = 0;</span><br><span class="line"> requireTrustedCAAppc = 0;</span><br><span class="line">&#125; | instanceDictionary: &#123;</span><br><span class="line"> hostName = &quot;mdm.epz.nl&quot;;</span><br><span class="line"> lastUpdate = &quot;2023-06-12T13:43:43.743Z&quot;;</span><br><span class="line"> name = zdm;</span><br><span class="line"> portNumber = 443;</span><br><span class="line">&#125; | domainDictionary: &#123;</span><br><span class="line"> name = &quot;epz.nl&quot;;</span><br><span class="line">&#125;&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,586</span><br><span class="line">&quot; 2024-01-17T14:06:48.775+0800 &quot;,AutoDiscovery,INFO (4),-[ADFetcher convertToCEMDictionary:],&quot;Exit point&quot;,Active,com.apple.main-thread,103,,/Users/junkangd/XenMobile/secure-hub/MDM/Common/Source/Connection/ADFetcher.m,639</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/Credential%20%E8%AF%81%E4%B9%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/Credential%20%E8%AF%81%E4%B9%A6/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="PKI-Public-Key-Infrastructure-详解"><a href="#PKI-Public-Key-Infrastructure-详解" class="headerlink" title="PKI (Public Key Infrastructure) 详解"></a>PKI (Public Key Infrastructure) 详解</h2><h3 id="PKI-是什么"><a href="#PKI-是什么" class="headerlink" title="PKI 是什么"></a><strong>PKI 是什么</strong></h3><p><strong>PKI (公钥基础设施)</strong> 是一个完整的框架体系，用于管理数字证书的创建、分发、使用、存储和撤销的整个生命周期。</p>
<h3 id="PKI-的核心组件"><a href="#PKI-的核心组件" class="headerlink" title="PKI 的核心组件"></a><strong>PKI 的核心组件</strong></h3><h4 id="1-CA-Certificate-Authority-证书颁发机构"><a href="#1-CA-Certificate-Authority-证书颁发机构" class="headerlink" title="1. CA (Certificate Authority) - 证书颁发机构"></a><strong>1. CA (Certificate Authority) - 证书颁发机构</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">作用:</span> <span class="string">PKI</span> <span class="string">的核心，负责颁发和管理数字证书</span></span><br><span class="line"><span class="string">职责:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">验证申请者身份</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">颁发数字证书</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">维护证书状态</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">发布证书撤销列表</span> <span class="string">(CRL)</span></span><br></pre></td></tr></table></figure>

<h4 id="2-RA-Registration-Authority-注册机构"><a href="#2-RA-Registration-Authority-注册机构" class="headerlink" title="2. RA (Registration Authority) - 注册机构"></a><strong>2. RA (Registration Authority) - 注册机构</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">作用:</span> <span class="string">CA</span> <span class="string">的代理，处理证书申请</span></span><br><span class="line"><span class="string">职责:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">验证申请者身份</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">处理证书申请流程</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">向</span> <span class="string">CA</span> <span class="string">转发验证过的申请</span></span><br></pre></td></tr></table></figure>

<h4 id="3-证书存储库"><a href="#3-证书存储库" class="headerlink" title="3. 证书存储库"></a><strong>3. 证书存储库</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">作用:</span> <span class="string">存储已颁发的证书</span></span><br><span class="line"><span class="string">类型:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">LDAP</span> <span class="string">目录</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">数据库</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Web</span> <span class="string">服务器</span></span><br></pre></td></tr></table></figure>

<h4 id="4-证书撤销系统"><a href="#4-证书撤销系统" class="headerlink" title="4. 证书撤销系统"></a><strong>4. 证书撤销系统</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">组件:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">CRL</span> <span class="string">(Certificate</span> <span class="string">Revocation</span> <span class="string">List)</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">OCSP</span> <span class="string">(Online</span> <span class="string">Certificate</span> <span class="string">Status</span> <span class="string">Protocol)</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">证书撤销检查服务</span></span><br></pre></td></tr></table></figure>

<h3 id="PKI-与-CA-的关系"><a href="#PKI-与-CA-的关系" class="headerlink" title="PKI 与 CA 的关系"></a><strong>PKI 与 CA 的关系</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PKI (整个基础设施)</span><br><span class="line">├── CA (证书颁发机构) ← 核心组件</span><br><span class="line">├── RA (注册机构)</span><br><span class="line">├── 证书存储库</span><br><span class="line">├── 证书撤销系统</span><br><span class="line">├── 密钥管理系统</span><br><span class="line">└── 策略和程序框架</span><br></pre></td></tr></table></figure>

<p><strong>关系说明</strong>:</p>
<ul>
<li><strong>CA 是 PKI 的核心组件</strong>，但不是全部</li>
<li><strong>PKI 是完整的生态系统</strong>，CA 是其中的关键角色</li>
<li><strong>CA 负责信任链的建立</strong>，PKI 负责整个管理框架</li>
</ul>
<h3 id="PKI-信任模型"><a href="#PKI-信任模型" class="headerlink" title="PKI 信任模型"></a><strong>PKI 信任模型</strong></h3><p><strong>层次化模型 (最常见)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Root CA (根证书颁发机构)</span><br><span class="line">├── Intermediate CA 1 (中间证书颁发机构)</span><br><span class="line">│   ├── End Entity Certificate 1</span><br><span class="line">│   └── End Entity Certificate 2</span><br><span class="line">└── Intermediate CA 2</span><br><span class="line">    ├── End Entity Certificate 3</span><br><span class="line">    └── End Entity Certificate 4</span><br></pre></td></tr></table></figure>

<p><strong>信任链验证</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">验证过程:</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">检查终端实体证书</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">验证中间</span> <span class="string">CA</span> <span class="string">证书</span></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">追溯到受信任的根</span> <span class="string">CA</span></span><br><span class="line"><span class="number">4</span><span class="string">.</span> <span class="string">验证整个证书链的完整性</span></span><br></pre></td></tr></table></figure>



<h3 id="PKI-证书生命周期"><a href="#PKI-证书生命周期" class="headerlink" title="PKI 证书生命周期"></a><strong>PKI 证书生命周期</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 密钥生成 → 2. 证书申请 → 3. 身份验证 → </span><br><span class="line">4. 证书颁发 → 5. 证书分发 → 6. 证书使用 → </span><br><span class="line">7. 证书更新 → 8. 证书撤销</span><br></pre></td></tr></table></figure>

<h3 id="PKI-业界的实现"><a href="#PKI-业界的实现" class="headerlink" title="PKI 业界的实现"></a>PKI 业界的实现</h3><ul>
<li>Microsoft Certificate Services：(也称为 AD CS - Active Directory Certificate Services) 是微软提供的 PKI 实现方案，是 Windows Server 的一个角色服务。<ul>
<li>PKI 标准的微软实现</li>
<li>提供完整的 CA 基础设施</li>
<li>与 Windows&#x2F;AD 环境深度集成</li>
</ul>
</li>
<li>Let’s Encrypt：部署在 Linux 上</li>
</ul>
<h2 id="PKCS-1-和-PKCS-12"><a href="#PKCS-1-和-PKCS-12" class="headerlink" title="PKCS #1 和 PKCS #12"></a>PKCS #1 和 PKCS #12</h2><ul>
<li><strong>PKCS #1</strong>: <code>.crt</code>, <code>.cer</code>, <code>.der</code>, <code>.pem</code> (仅证书)</li>
<li><strong>PKCS #12</strong>: <code>.p12</code>, <code>.pfx</code>, <code>.pkcs12</code> (证书+私钥)，包含私钥，常用于做身份认证</li>
</ul>
<h3 id="PKCS-1-格式证书"><a href="#PKCS-1-格式证书" class="headerlink" title="PKCS #1 格式证书"></a><strong>PKCS #1 格式证书</strong></h3><ul>
<li><strong>定义</strong>: 仅包含公钥证书，不含私钥</li>
<li><strong>编码</strong>: DER 或 PEM 编码</li>
<li><strong>常见后缀</strong>:</li>
</ul>
<table>
<thead>
<tr>
<th>后缀</th>
<th>编码格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>.crt</strong></td>
<td>DER&#x2F;PEM</td>
<td>最常见的证书文件</td>
</tr>
<tr>
<td><strong>.cer</strong></td>
<td>DER&#x2F;PEM</td>
<td>Windows 常用格式</td>
</tr>
<tr>
<td><strong>.der</strong></td>
<td>DER</td>
<td>二进制编码</td>
</tr>
<tr>
<td><strong>.pem</strong></td>
<td>PEM</td>
<td>Base64 文本编码</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例文件</span><br><span class="line">server.crt          # 服务器证书</span><br><span class="line">ca-root.cer         # 根证书</span><br><span class="line">intermediate.der    # 中间证书</span><br><span class="line">chain.pem          # 证书链</span><br></pre></td></tr></table></figure>

<h3 id="PKCS-12-格式证书"><a href="#PKCS-12-格式证书" class="headerlink" title="PKCS #12 格式证书"></a><strong>PKCS #12 格式证书</strong></h3><ul>
<li><strong>定义</strong>: 包含证书 + 私钥的完整身份</li>
<li><strong>编码</strong>: 二进制格式，密码保护</li>
<li><strong>常见后缀</strong>:</li>
</ul>
<table>
<thead>
<tr>
<th>后缀</th>
<th>平台</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>.p12</strong></td>
<td>跨平台</td>
<td>标准 PKCS#12 格式</td>
</tr>
<tr>
<td><strong>.pfx</strong></td>
<td>Windows</td>
<td>Microsoft 术语</td>
</tr>
<tr>
<td><strong>.pkcs12</strong></td>
<td>Linux&#x2F;Unix</td>
<td>明确标识格式</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 示例文件</span><br><span class="line">client-identity.p12    # 客户端身份证书</span><br><span class="line">user-cert.pfx         # 用户证书</span><br><span class="line">device-identity.pkcs12 # 设备身份</span><br></pre></td></tr></table></figure>

<h2 id="SCEP"><a href="#SCEP" class="headerlink" title="SCEP"></a>SCEP</h2><p>SCEP（Simple Certificate Enrollment Protocol，简单证书注册协议）证书是通过 SCEP 协议从 CA 获取的数字证书（也是 X.509 格式），包含公钥和私钥（设备本地生成，不由CA传输）。</p>
<ul>
<li>相较于P12证书要手动更新， SCEP证书，需要联网，根据配置参数申请证书，动态更新，支持自动续期，</li>
<li>场景：常用于企业内部，专注于设备身份验证（VPN 、WIFI）</li>
<li>使用者：企业 IT 管理员、设备管理。</li>
</ul>
<h2 id="ACME"><a href="#ACME" class="headerlink" title="ACME"></a>ACME</h2><p>ACME（Automatic Certificate Management Environmen）证书是通过 ACME 协议从 CA（如 Let’s Encrypt）获取的数字证书，通常是 X.509 格式，包含公钥和私钥（设备本地生成，不由CA传输），用于证明身份和加密通信。</p>
<ul>
<li>场景：专注于WEB安全，多用于网站的HTTPS验证</li>
<li>使用者：网站管理员、开发者。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/daily%20record/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/daily%20record/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Serializable-Issue-Sharing"><a href="#Serializable-Issue-Sharing" class="headerlink" title="Serializable Issue Sharing"></a>Serializable Issue Sharing</h1><ul>
<li><p>The CEM policy data type is saved as Byte Array type.</p>
<p>![image-20250421171730209](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20250421171730209.png)</p>
</li>
<li><p>Implements <code>Serializable</code> interface to convert data from Java Object to Byte Array each other.</p>
<ul>
<li>Need to explicitly declare a <code>serialVersionUID</code> for <code>Serializable</code> subclass.</li>
<li>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default <code>serialVersionUID</code> value for that class based on various aspects of the class</li>
<li><code>Seribalizable</code> is used to check whether object it could be coverted to Byte array</li>
</ul>
<p>![image-20250421160816176](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20250421160816176.png)</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant App25_3 as CEM (v25.3)</span><br><span class="line">    participant A_25_3 as A Class (v25.3)</span><br><span class="line">    participant OOS as ObjectOutputStream</span><br><span class="line">    participant DB as Database</span><br><span class="line">    participant App25_5 as CEM (v25.5)</span><br><span class="line">    participant A_25_5 as A Class (v25.5)</span><br><span class="line">    participant OIS as ObjectInputStream</span><br><span class="line"></span><br><span class="line">    %% Version 25.3: Serialization</span><br><span class="line">    Note over App25_3,DB: Version 25.3 - Serialize A to DB with calculated serialVersionUID</span><br><span class="line">    App25_3-&gt;&gt;A_25_3: Create A instance</span><br><span class="line">    Note over A_25_3: A implement Serializable without declare a serialVersionUID</span><br><span class="line">    App25_3-&gt;&gt;OOS: new ObjectOutputStream()</span><br><span class="line">    App25_3-&gt;&gt;OOS: writeObject(A)</span><br><span class="line">    OOS-&gt;&gt;DB: Store serialized A data</span><br><span class="line">    DB--&gt;&gt;OOS: Success</span><br><span class="line">    OOS--&gt;&gt;App25_3: Serialization complete</span><br><span class="line"></span><br><span class="line">    %% Version 25.5: Deserialization Failure</span><br><span class="line">    Note over App25_5,DB: Version 25.5 - Deserialize A from DB</span><br><span class="line">    Note over A_25_5: A structure changed</span><br><span class="line">    App25_5-&gt;&gt;OIS: new ObjectInputStream()</span><br><span class="line">    App25_5-&gt;&gt;OIS: readObject()</span><br><span class="line">    OIS-&gt;&gt;DB: Read serialized A data</span><br><span class="line">    DB--&gt;&gt;OIS: Return serialized data</span><br><span class="line">    OIS-&gt;&gt;A_25_5: Attempt to deserialize&lt;br&gt;into A (v25.5)</span><br><span class="line">    Note over OIS,A_25_5: Mismatch</span><br><span class="line">    A_25_5--&gt;&gt;OIS: Throw InvalidClassException</span><br></pre></td></tr></table></figure>



<p>Scenarios:</p>
<ol>
<li><p>Update the serialVersionUID (for example, increment the value):</p>
<p>If the structure of the class undergoes incompatible changes (such as deleting fields or changing field types), </p>
</li>
<li><p>The serialVersionUID remains unchanged:  </p>
<p>If the changes are compatible (such as adding new fields), the serialVersionUID can be kept unchanged.</p>
</li>
</ol>
<p>Shortcoming:</p>
<ul>
<li>poor performance</li>
<li>data size is not good</li>
<li>Not cross-platform, only for Java</li>
<li>serialVersionUID too complicated and low compatibility.</li>
</ul>
<p>–&gt; consider to use Json&#x2F;Pb protocol to serialize data.</p>
<p><a target="_blank" rel="noopener" href="https://openjdk.org/jeps/154">https://openjdk.org/jeps/154</a></p>
<h1 id="DEP-MDM-ONLY"><a href="#DEP-MDM-ONLY" class="headerlink" title="DEP MDM ONLY"></a>DEP MDM ONLY</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Start: DEP Enrollment] --&gt; B&#123;Enrollment Type?&#125;</span><br><span class="line">    </span><br><span class="line">    B --&gt; |DEP MDM Only| C&#123;CEM Push EP Info to SH?&#125;</span><br><span class="line">    C --&gt; |Option 1: No Push| D[Pop up Auth Controller to Complete Authentication]</span><br><span class="line">    C --&gt; |Option 2: Push| E[Complete MDM Enrollment&lt;br&gt;Directly on URLViewController Next Click]</span><br><span class="line">    </span><br><span class="line">    B --&gt; |DEP MDM + MAM| F&#123;CEM Push EP Info to SH?&#125;</span><br><span class="line">    F --&gt; |Option 1/2: Push or No Push| G[Pop up Auth Controller]</span><br></pre></td></tr></table></figure>





<h2 id="TestCases"><a href="#TestCases" class="headerlink" title="TestCases"></a>TestCases</h2><table>
<thead>
<tr>
<th></th>
<th align="center">FF</th>
<th align="center">CEM Push ep data</th>
<th align="center">EP</th>
<th align="center">Note</th>
<th align="center">result</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td align="center">OFF</td>
<td align="center">N&#x2F;A</td>
<td align="center">N&#x2F;A</td>
<td align="center">MDM + MAM</td>
<td align="center">✅</td>
</tr>
<tr>
<td>2</td>
<td align="center">ON</td>
<td align="center">YES</td>
<td align="center">MDM Only</td>
<td align="center">1. UI Auth Page Not Show<br />2. Sign Off Button Not Show</td>
<td align="center">✅</td>
</tr>
<tr>
<td>3</td>
<td align="center">ON</td>
<td align="center">YES</td>
<td align="center">MDM + MAM</td>
<td align="center">UI Auth Page  Show</td>
<td align="center">✅</td>
</tr>
<tr>
<td>4</td>
<td align="center">ON</td>
<td align="center">NO</td>
<td align="center">MDM Only</td>
<td align="center">1. UI Auth Page Show<br />2. Sign Off Button Not Show</td>
<td align="center">✅</td>
</tr>
<tr>
<td>5</td>
<td align="center">ON</td>
<td align="center">NO</td>
<td align="center">MDM + MAM</td>
<td align="center">UI Auth Page Show</td>
<td align="center">✅</td>
</tr>
</tbody></table>
<p>UI Auth Page is used for:</p>
<ol>
<li>Fetch Enrollment Profile</li>
<li>Do MAM Enrollment</li>
</ol>
<p>New Request: On Main thread -&gt; request self lock</p>
<p>Old Request: hold self lock -&gt; request main thread to pop up alert</p>
<p>Topic:</p>
<ul>
<li>MAM SDK :<ul>
<li>release</li>
<li>swifttest application</li>
</ul>
</li>
<li>Secure Mail : two way sync</li>
<li>SecureWeb : </li>
<li>CEM <ul>
<li>DDM Software Update</li>
<li>Restriction policy</li>
<li>Account driven UE groom</li>
<li>Skip setup assistant</li>
</ul>
</li>
<li>SecureHub<ul>
<li>Remove mdx support and refactor code</li>
<li>Support MDM only enrollment for DEP device</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Supremes</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
