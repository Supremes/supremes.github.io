<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Supremes">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/8/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/8/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Supremes</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/MDM/apple%20dep/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/MDM/apple%20dep/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h1 id="Report"><a href="#Report" class="headerlink" title="Report"></a>Report</h1><ol>
<li>过了一遍customer issue的comments，对于背景有了大致的了解</li>
<li>阅读server background jobs的设计、quartz框架的基本原理和用法</li>
<li>尝试从AppleDepTaskJob入手，摸清楚<ol>
<li>job detail</li>
<li>trigger detail</li>
<li>quartz configuration：<ol>
<li>threadcount </li>
<li>misfireThreshold</li>
</ol>
</li>
</ol>
</li>
</ol>
<h1 id="Apple-DEP"><a href="#Apple-DEP" class="headerlink" title="Apple DEP"></a>Apple DEP</h1><p>Guide: <a target="_blank" rel="noopener" href="https://www.apple.com/mx/business-docs/DEP_Guide.pdf">https://www.apple.com/mx/business-docs/DEP_Guide.pdf</a></p>
<p>Bind <code>CEM</code> with <code>Apple DEP</code>: <a target="_blank" rel="noopener" href="https://mbautghfbery.xmqa.cloud.com:4443/index_uc.jsp#settings">https://mbautghfbery.xmqa.cloud.com:4443/index_uc.jsp#settings</a></p>
<h1 id="Customer-Issue"><a href="#Customer-Issue" class="headerlink" title="Customer Issue"></a>Customer Issue</h1><p><a target="_blank" rel="noopener" href="https://issues.citrite.net/browse/XMHELP-4071">DEP synchronization from ABM to CEM stopped working.</a></p>
<p>CEM lost ABM(Apple Business Manager) ‘s connection, because related background job failed or not run as expected, we need to find rootcause.</p>
<h1 id="CEM-DEP-Jobs"><a href="#CEM-DEP-Jobs" class="headerlink" title="CEM DEP Jobs"></a>CEM DEP Jobs</h1><h2 id="Quartz"><a href="#Quartz" class="headerlink" title="Quartz"></a>Quartz</h2><p><code>SchedulerFactoryBean</code> class: quartz integration with Spring</p>
<h3 id="Configuration-file"><a href="#Configuration-file" class="headerlink" title="Configuration file"></a>Configuration file</h3><ul>
<li>quartz.properties</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#实例名称</span></span><br><span class="line"><span class="attr">org.quartz.scheduler.instanceName</span>: <span class="string">DefaultQuartzScheduler</span></span><br><span class="line"><span class="comment">#远程方法调用</span></span><br><span class="line"><span class="attr">org.quartz.scheduler.rmi.export</span>: <span class="string">false</span></span><br><span class="line"><span class="attr">org.quartz.scheduler.rmi.proxy</span>: <span class="string">false</span></span><br><span class="line"><span class="comment">#是否将任务放在事务中执行</span></span><br><span class="line"><span class="attr">org.quartz.scheduler.wrapJobExecutionInUserTransaction</span>: <span class="string">false</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#线程池</span></span><br><span class="line"><span class="attr">org.quartz.threadPool.class</span>: <span class="string">org.quartz.simpl.SimpleThreadPool</span></span><br><span class="line"><span class="comment">#线程个数</span></span><br><span class="line"><span class="attr">org.quartz.threadPool.threadCount</span>: <span class="string">10</span></span><br><span class="line"><span class="comment">#线程优先级</span></span><br><span class="line"><span class="attr">org.quartz.threadPool.threadPriority</span>: <span class="string">5</span></span><br><span class="line"></span><br><span class="line"><span class="attr">org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread</span>: <span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#失火的阈值</span></span><br><span class="line"><span class="attr">org.quartz.jobStore.misfireThreshold</span>: <span class="string">60000</span></span><br><span class="line"><span class="comment">#使用内存方式存储</span></span><br><span class="line"><span class="attr">org.quartz.jobStore.class</span>: <span class="string">org.quartz.simpl.RAMJobStore</span></span><br></pre></td></tr></table></figure>

<h3 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h3><blockquote>
<p>Quartz的监听器用于当任务调度中你所关注事件发生时，能够及时获取这一事件的通知。类似于任务执行过程中的邮件、短信类的提醒。Quartz 的监听器有<strong>Job监听器，Trigger监听器， Scheduler监听器</strong>，对不同层面进行监控。三者的使用方法类似，</p>
</blockquote>
<ul>
<li>JobListener</li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用或执行实际</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>返回JobListener 的名称</td>
</tr>
<tr>
<td>jobToBeExecuted()</td>
<td>Scheduler 在JobDetail 将要被执行时调用这个方法</td>
</tr>
<tr>
<td>jobExecutionVetoed()</td>
<td>Scheduler 在JobDetail 即将被执行，但又被TriggerListener 否决了时调用这个方法</td>
</tr>
<tr>
<td>jobWasExecuted()</td>
<td>Scheduler 在JobDetail 被执行之后调用这个方法</td>
</tr>
</tbody></table>
<ul>
<li>triggerListener</li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用或执行实际</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>返回listener 的名称</td>
</tr>
<tr>
<td>triggerFired()</td>
<td>Trigger 被触发，Job 上的execute() 方法将要被执行时，Scheduler 就调用这个方法</td>
</tr>
<tr>
<td>vetoJobExecution()</td>
<td>在Trigger 触发后， Job 将要被执行时由Scheduler 调用这个方法。TriggerListener 给了一个选择去否决Job 的执行。假如这个方法返回true，这个Job 将不会为此次Trigger 触发而得到执行</td>
</tr>
<tr>
<td>triggerMisfired()</td>
<td>Trigger 错过触发时调用</td>
</tr>
<tr>
<td>triggerComplete()</td>
<td>Trigger 被触发并且完成了Job 的执行时，Scheduler 调用这个方法</td>
</tr>
</tbody></table>
<p><strong>BGJSchedulerFactoryBean–DynamicJobScheduler</strong></p>
<p>QuartzScheduleEngine2–Scheduler</p>
<h2 id="Apple-DEP-Background-Job"><a href="#Apple-DEP-Background-Job" class="headerlink" title="Apple DEP Background Job"></a>Apple DEP Background Job</h2><img src="/Users/junkangd/Library/Application Support/typora-user-images/image-20220906155554422.png" alt="image-20220906155554422" style="zoom:150%;" />

<p>initialize</p>
<p>![image-20220906163516544](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220906163516544.png)</p>
<blockquote>
<blockquote>
<p> I saw there are lots of “misfired trigger” for “AppleDepTask”. This job is mainly for syncing devices from ABM.</p>
</blockquote>
</blockquote>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DebugLogFile.log.21:17924:2022-07-28T05:02:06.893+0000 | &quot;user.id=&quot; &quot;session.id=&quot; &quot;client.ip=&quot; &quot;push.info=&quot; &quot;transaction.id=&quot; |  WARN | DfltQuartzScheduler<span class="built_in">_</span>QuartzSchedulerThread | prodpod3egregq0g.xm.cloud.com | com.citrix.backgroundjobs.listeners.BGJTriggerListener | Misfired trigger Trigger &#x27;DEFAULT.appleDepTaskTrigger&#x27;:  triggerClass: &#x27;org.quartz.impl.triggers.SimpleTriggerImpl calendar: &#x27;null&#x27; misfireInstruction: 0 nextFireTime: Thu Jul 28 04:53:20 UTC 2022</span><br></pre></td></tr></table></figure>

<ol>
<li>job detail</li>
<li>trigger detail</li>
<li>quartz configuration：<ul>
<li>threadcount </li>
<li>misfireThreshold</li>
</ul>
</li>
</ol>
<h3 id="Xml-Configuration"><a href="#Xml-Configuration" class="headerlink" title="Xml Configuration"></a>Xml Configuration</h3><p>Service:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.sparus.nps.cron.tasks.AppleDepTask&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;appleDepServices&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;appleDepServices&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;deviceManager&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;com.sparus.nps.admin.impl.DeviceManagerImpl&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;depAccountManager&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;depAccountManager&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;depProfileManager&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;depProfileManager&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>SCHEDULER:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.citrix.backgroundjobs.BGJSchedulerFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:quartz-background-jobs.properties&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;startupDelay&quot;</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;overwriteExistingJobs&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>JOB:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;appleDepTaskJobDetail&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.scheduling.quartz.JobDetailFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jobClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.citrix.backgroundjobs.jobs.AppleDepTaskJob&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;durability&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>TRIGGER:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;appleDepTaskTrigger&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jobDetail&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;appleDepTaskJobDetail&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;startDelay&quot;</span> <span class="attr">value</span>=<span class="string">&quot;60000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;repeatInterval&quot;</span> <span class="attr">value</span>=<span class="string">&quot;300000&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>SimpleTrigger</li>
<li>CrontabTrigger</li>
</ul>
<p>LISTENER：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bgjTriggerListener&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.citrix.backgroundjobs.listeners.BGJTriggerListener&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bgjJobListener&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.citrix.backgroundjobs.listeners.BGJJobListener&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bgjSchedulerListener&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.citrix.backgroundjobs.listeners.BGJSchedulerListener&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="potential-misfire-reasons"><a href="#potential-misfire-reasons" class="headerlink" title="potential misfire reasons"></a>potential misfire reasons</h3><p>Sometimes Quartz is not capable of running your job at the time when you desired. There are three reasons for that:</p>
<ul>
<li>all worker threads were busy running other jobs (probably with higher priority)</li>
<li>the scheduler itself was down</li>
<li>the job was scheduled with start time in the past (probably a coding error)</li>
</ul>
<h3 id="solutions"><a href="#solutions" class="headerlink" title="solutions"></a>solutions</h3><ol>
<li>increase the number of worker threads by simply customizing the <code>org.quartz.threadPool.threadCount</code> in <code>quartz.properties</code> (default is 10).</li>
<li>increase the number of  <code>org.quartz.jobStore.misfireThreshold</code> (in milliseconds), defaulting to 60000 (a minute).</li>
<li>include “<strong>MISFIRE_INSTRUCTION</strong>“ with your trigger, set <code>SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW</code></li>
<li>modify <strong>priority</strong> of trigger</li>
</ol>
<h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><h3 id="Hikari"><a href="#Hikari" class="headerlink" title="Hikari"></a>Hikari</h3><blockquote>
<p>jdbc connection pool</p>
</blockquote>
<p>Monitor Hikari</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.citrix.xms.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zaxxer.hikari.HikariDataSource;</span><br><span class="line"><span class="keyword">import</span> com.zaxxer.hikari.HikariPoolMXBean;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HikariCPStatistics</span>  <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LogManager.getLogger(HikariCPStatistics.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> HikariPoolMXBean poolProxy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HikariCPStatistics</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ((HikariDataSource)dataSource).getHikariPoolMXBean();</span></span><br><span class="line">        logger.info(<span class="string">&quot;HikariCPStatistics - initJunkang&quot;</span>);</span><br><span class="line">        poolProxy = ((HikariDataSource)MultiTenantDataSourceManager.getCurrentDataSource()).getHikariPoolMXBean();</span><br><span class="line">        logger.info(<span class="string">&quot;HikariCPStatistics - endJunkang&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;HikariCPStatistics - Starting Connection Pool status monitor...&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;HikariCPStatistics - Idle Connections: &quot;</span> + poolProxy.getIdleConnections());</span><br><span class="line">            logger.info(<span class="string">&quot;HikariCPStatistics - Active Connections: &quot;</span> + poolProxy.getActiveConnections());</span><br><span class="line">            logger.info(<span class="string">&quot;HikariCPStatistics - Total Connections: &quot;</span> + poolProxy.getTotalConnections());</span><br><span class="line">            logger.info(<span class="string">&quot;HikariCPStatistics - ThreadAwaiting Connections: &quot;</span> + poolProxy.getThreadsAwaitingConnection());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">60000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                logger.error(<span class="string">&quot;HikariCPStatistics - Fail to run Connection Pool status monitor&quot;</span>);</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="background-job-architecure"><a href="#background-job-architecure" class="headerlink" title="background job architecure"></a>background job architecure</h2><p>xms-sever background job module follow module design below, rely on the quartz framework to complete the scheduling of background tasks </p>
<p>Devices are added to the ABM portal at point of purchase by the distributer, associated with the MDM solution of CEM  by IT </p>
<p>User activates the device the ABM forwards the device communications to your MDM solution of CEM for the user to enroll. </p>
<p>Once a device has been added to the ABM it will always be referred to the MDM solution of CEM for enrollment even after a factory reset</p>
<p>Devices are only removed when an IT admin of the ABM manually removes the device.</p>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Due to the lack of monitoring and alarm mechanisms for background jobs, we add some logic to monitor job and connection pool status.</p>
<h2 id="Changelist"><a href="#Changelist" class="headerlink" title="Changelist"></a>Changelist</h2><ul>
<li>Use <code>ConcurrentHashMap</code> to monitor execution time per job per tenant </li>
<li>Use <code>Executors</code> to monitor DB connection pool’s status.</li>
</ul>
<h2 id="B-L-A-S-T"><a href="#B-L-A-S-T" class="headerlink" title="B.L.A.S.T"></a>B.L.A.S.T</h2><p>Tier 0: Local Docker passed<br>Tier 1: cloud bvt—<a target="_blank" rel="noopener" href="https://apps.xm.citrite.net/automation-dashboard/project/3949/152701#scenario199757">https://apps.xm.citrite.net/automation-dashboard/project/3949/152701#scenario199757</a><br>L: No new logs<br>A: No new API<br>S: No new sql<br>T: No new unit tests</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/MDM/DDM%20-%20Valuable%20Feature/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/MDM/DDM%20-%20Valuable%20Feature/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Security-Policies"><a href="#Security-Policies" class="headerlink" title="Security Policies"></a>Security Policies</h1><p><strong>Configurations:</strong></p>
<ul>
<li>com.apple.configuration.security.certificate</li>
<li>com.apple.configuration.security.identity</li>
<li>com.apple.configuration.security.passkey.attestation</li>
</ul>
<p><strong>Assets:</strong></p>
<p>![image-20250715111121370](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20250715111121370.png)</p>
<h2 id="com-apple-configuration-security-certificate"><a href="#com-apple-configuration-security-certificate" class="headerlink" title="com.apple.configuration.security.certificate"></a>com.apple.configuration.security.certificate</h2><p>Related to legacy profile policy below</p>
<ul>
<li><strong>com.apple.security.pkcs1</strong>  </li>
<li><strong>com.apple.security.pem</strong>  </li>
<li><strong>com.apple.security.root</strong></li>
</ul>
<p>Add  a certificate to the device, not include private key.</p>
<h2 id="com-apple-configuration-security-identity"><a href="#com-apple-configuration-security-identity" class="headerlink" title="com.apple.configuration.security.identity"></a>com.apple.configuration.security.identity</h2><p>Related to legacy profile policy below:</p>
<ul>
<li><strong>com.apple.security.pkcs12</strong></li>
<li><strong>com.apple.security.scep</strong></li>
<li><strong>com.apple.security.acme</strong> (not implemented in CEM)</li>
</ul>
<p>Mostly used for identity authentication.</p>
<h2 id="com-apple-configuration-security-passkey-attestation"><a href="#com-apple-configuration-security-passkey-attestation" class="headerlink" title="com.apple.configuration.security.passkey.attestation"></a>com.apple.configuration.security.passkey.attestation</h2><p>For passkey authentication scenario.</p>
<h1 id="Account-Policies"><a href="#Account-Policies" class="headerlink" title="Account Policies"></a>Account Policies</h1><ul>
<li>com.apple.configuration.account.caldav: configure a Calendar account.</li>
<li>com.apple.configuration.account.carddav: configure a Contacts account.</li>
<li>com.apple.configuration.account.exchange: configure an Exchange account.</li>
<li>com.apple.configuration.account.ldap: configure a Lightweight Directory Access Protocol<br>  (LDAP) account.</li>
<li>com.apple.configuration.account.mail: configure a Mail account.</li>
<li>com.apple.configuration.account.subscribed-calendar: configure a subscribed calendar.</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><h2 id="DDM-Assets-vs-传统-MDM-Profiles-的证书类型对比"><a href="#DDM-Assets-vs-传统-MDM-Profiles-的证书类型对比" class="headerlink" title="DDM Assets vs 传统 MDM Profiles 的证书类型对比"></a>DDM Assets vs 传统 MDM Profiles 的证书类型对比</h2><h3 id="架构层面的区别"><a href="#架构层面的区别" class="headerlink" title="架构层面的区别"></a><strong>架构层面的区别</strong></h3><h4 id="传统-MDM-Profiles-内嵌式"><a href="#传统-MDM-Profiles-内嵌式" class="headerlink" title="传统 MDM Profiles (内嵌式)"></a><strong>传统 MDM Profiles (内嵌式)</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">配置文件内嵌证书数据:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.security.pkcs1</span>      <span class="comment"># DER 证书</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.security.pkcs12</span>     <span class="comment"># 身份凭据  </span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.security.pem</span>        <span class="comment"># PEM 证书</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.security.root</span>       <span class="comment"># 根证书 (PKCS1别名)</span></span><br></pre></td></tr></table></figure>

<h4 id="DDM-Assets-外部引用式"><a href="#DDM-Assets-外部引用式" class="headerlink" title="DDM Assets (外部引用式)"></a><strong>DDM Assets (外部引用式)</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">外部引用证书资源:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.asset.credential.certificate</span>    <span class="comment"># 对应 PKCS1/PEM</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.asset.credential.identity</span>       <span class="comment"># 对应 PKCS12</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.asset.credential.userpassword</span>   <span class="comment"># 新增类型</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.asset.credential.scep</span>          <span class="comment"># 新增类型</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">com.apple.asset.credential.acme</span>          <span class="comment"># 新增类型</span></span><br></pre></td></tr></table></figure>

<h3 id="对应关系映射"><a href="#对应关系映射" class="headerlink" title="对应关系映射"></a><strong>对应关系映射</strong></h3><table>
<thead>
<tr>
<th>传统 MDM</th>
<th>DDM Asset</th>
<th>数据存储</th>
<th>更新方式</th>
</tr>
</thead>
<tbody><tr>
<td><strong>com.apple.security.pkcs1</strong></td>
<td><strong>com.apple.asset.credential.certificate</strong></td>
<td>配置文件内 → 外部URL</td>
<td>重推配置 → 动态拉取</td>
</tr>
<tr>
<td><strong>com.apple.security.pem</strong></td>
<td><strong>com.apple.asset.credential.certificate</strong></td>
<td>配置文件内 → 外部URL</td>
<td>重推配置 → 动态拉取</td>
</tr>
<tr>
<td><strong>com.apple.security.root</strong></td>
<td><strong>com.apple.asset.credential.certificate</strong></td>
<td>配置文件内 → 外部URL</td>
<td>重推配置 → 动态拉取</td>
</tr>
<tr>
<td><strong>com.apple.security.pkcs12</strong></td>
<td><strong>com.apple.asset.credential.identity</strong></td>
<td>配置文件内 → 外部URL</td>
<td>重推配置 → 动态拉取</td>
</tr>
<tr>
<td><strong>(无对应)</strong></td>
<td><strong>com.apple.asset.credential.userpassword</strong></td>
<td>-</td>
<td>DDM新增</td>
</tr>
<tr>
<td><strong>(无对应)</strong></td>
<td><strong>com.apple.asset.credential.scep</strong></td>
<td>-</td>
<td>DDM新增</td>
</tr>
<tr>
<td><strong>(无对应)</strong></td>
<td><strong>com.apple.asset.credential.acme</strong></td>
<td>-</td>
<td>DDM新增</td>
</tr>
</tbody></table>
<h3 id="技术实现差异"><a href="#技术实现差异" class="headerlink" title="技术实现差异"></a><strong>技术实现差异</strong></h3><h4 id="传统方式：数据内嵌"><a href="#传统方式：数据内嵌" class="headerlink" title="传统方式：数据内嵌"></a><strong>传统方式：数据内嵌</strong></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 传统 MDM Profile --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadType<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.apple.security.pkcs1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadContent<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span>MIICdgIBADANBgkqhkiG9w0...<span class="tag">&lt;/<span class="name">data</span>&gt;</span>  <span class="comment">&lt;!-- 直接嵌入证书 --&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="DDM方式：外部引用"><a href="#DDM方式：外部引用" class="headerlink" title="DDM方式：外部引用"></a><strong>DDM方式：外部引用</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DDM Asset Declaration</span></span><br><span class="line"><span class="attr">Type:</span> <span class="string">com.apple.asset.credential.certificate</span></span><br><span class="line"><span class="attr">Reference:</span></span><br><span class="line">  <span class="attr">DataURL:</span> <span class="string">&quot;https://pki.company.com/cert.crt&quot;</span></span><br><span class="line">  <span class="attr">ContentType:</span> <span class="string">&quot;application/pkcs1&quot;</span></span><br><span class="line">  <span class="attr">Hash-SHA-256:</span> <span class="string">&quot;abc123...&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="具体类型分析"><a href="#具体类型分析" class="headerlink" title="具体类型分析"></a><strong>具体类型分析</strong></h3><h4 id="1-Certificate-Asset-统一证书资源"><a href="#1-Certificate-Asset-统一证书资源" class="headerlink" title="1. Certificate Asset (统一证书资源)"></a><strong>1. Certificate Asset (统一证书资源)</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">com.apple.asset.credential.certificate:</span></span><br><span class="line">  <span class="string">支持格式:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">application/pkcs1</span>  <span class="comment"># 对应传统 PKCS1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">application/pem</span>    <span class="comment"># 对应传统 PEM</span></span><br><span class="line">  <span class="string">用途:</span> <span class="string">合并了</span> <span class="string">PKCS1/PEM/ROOT</span> <span class="string">到一个统一类型</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Identity-Asset-身份凭据"><a href="#2-Identity-Asset-身份凭据" class="headerlink" title="2. Identity Asset (身份凭据)"></a><strong>2. Identity Asset (身份凭据)</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">com.apple.asset.credential.identity:</span></span><br><span class="line">  <span class="string">对应:</span> <span class="string">com.apple.security.pkcs12</span></span><br><span class="line">  <span class="string">数据格式:</span> <span class="string">JSON包装的PKCS12</span></span><br><span class="line">  <span class="string">新增特性:</span> <span class="string">Accessible</span> <span class="string">(钥匙串访问控制)</span></span><br></pre></td></tr></table></figure>

<h4 id="3-DDM-新增类型"><a href="#3-DDM-新增类型" class="headerlink" title="3. DDM 新增类型"></a><strong>3. DDM 新增类型</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 传统 MDM 没有的新类型</span></span><br><span class="line"><span class="string">com.apple.asset.credential.userpassword</span>  <span class="comment"># 用户名密码</span></span><br><span class="line"><span class="string">com.apple.asset.credential.scep</span>         <span class="comment"># SCEP自动申请</span></span><br><span class="line"><span class="string">com.apple.asset.credential.acme</span>         <span class="comment"># ACME自动申请</span></span><br></pre></td></tr></table></figure>

<h3 id="数据格式对比"><a href="#数据格式对比" class="headerlink" title="数据格式对比"></a><strong>数据格式对比</strong></h3><h4 id="传统-PKCS12"><a href="#传统-PKCS12" class="headerlink" title="传统 PKCS12"></a><strong>传统 PKCS12</strong></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>PayloadContent<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span>PKCS12-binary-data-base64<span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>Password<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>cert-password<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="DDM-Identity-Asset"><a href="#DDM-Identity-Asset" class="headerlink" title="DDM Identity Asset"></a><strong>DDM Identity Asset</strong></h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 外部 JSON 文件</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;com.apple.credential.identity&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Payload&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;PKCS12Data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;base64-pkcs12-data&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cert-password&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="新增功能特性"><a href="#新增功能特性" class="headerlink" title="新增功能特性"></a><strong>新增功能特性</strong></h3><h4 id="1-钥匙串访问控制"><a href="#1-钥匙串访问控制" class="headerlink" title="1. 钥匙串访问控制"></a><strong>1. 钥匙串访问控制</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 仅 DDM 支持</span></span><br><span class="line"><span class="attr">Accessible:</span> <span class="string">&quot;AfterFirstUnlock&quot;</span>  <span class="comment"># 设备解锁后可用</span></span><br><span class="line"><span class="attr">Accessible:</span> <span class="string">&quot;Default&quot;</span>           <span class="comment"># 最严格访问级别</span></span><br></pre></td></tr></table></figure>

<h4 id="2-数据完整性验证"><a href="#2-数据完整性验证" class="headerlink" title="2. 数据完整性验证"></a><strong>2. 数据完整性验证</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DDM 新增验证机制</span></span><br><span class="line"><span class="attr">Hash-SHA-256:</span> <span class="string">&quot;abc123...&quot;</span>  <span class="comment"># 文件哈希验证</span></span><br><span class="line"><span class="attr">Size:</span> <span class="number">2048</span>                 <span class="comment"># 文件大小验证</span></span><br><span class="line"><span class="attr">ContentType:</span> <span class="string">&quot;application/json&quot;</span>  <span class="comment"># MIME类型验证</span></span><br></pre></td></tr></table></figure>

<h4 id="3-认证方式"><a href="#3-认证方式" class="headerlink" title="3. 认证方式"></a><strong>3. 认证方式</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Authentication:</span></span><br><span class="line">  <span class="attr">Type:</span> <span class="string">MDM</span>   <span class="comment"># 使用设备身份认证</span></span><br><span class="line">  <span class="attr">Type:</span> <span class="string">None</span>  <span class="comment"># 公开访问</span></span><br></pre></td></tr></table></figure>

<h3 id="部署方式对比"><a href="#部署方式对比" class="headerlink" title="部署方式对比"></a><strong>部署方式对比</strong></h3><h4 id="传统-MDM-部署"><a href="#传统-MDM-部署" class="headerlink" title="传统 MDM 部署"></a><strong>传统 MDM 部署</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">步骤:</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">证书数据嵌入配置文件</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">推送完整配置文件到设备</span></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">更新需要重新推送整个配置</span></span><br><span class="line"></span><br><span class="line"><span class="string">限制:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">配置文件大小限制</span> <span class="string">(8MB)</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">更新效率低</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">无法动态更新</span></span><br></pre></td></tr></table></figure>

<h4 id="DDM-Asset-部署"><a href="#DDM-Asset-部署" class="headerlink" title="DDM Asset 部署"></a><strong>DDM Asset 部署</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">步骤:</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">证书文件部署到服务器</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">推送轻量级声明到设备</span></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">设备按需拉取证书文件</span></span><br><span class="line"></span><br><span class="line"><span class="string">优势:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">无文件大小限制</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">动态更新</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">缓存机制</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">完整性验证</span></span><br></pre></td></tr></table></figure>

<h3 id="企业迁移建议"><a href="#企业迁移建议" class="headerlink" title="企业迁移建议"></a><strong>企业迁移建议</strong></h3><h4 id="迁移映射"><a href="#迁移映射" class="headerlink" title="迁移映射"></a><strong>迁移映射</strong></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从传统 MDM 迁移到 DDM</span></span><br><span class="line"><span class="string">com.apple.security.pkcs1</span> <span class="string">→</span> </span><br><span class="line">  <span class="attr">com.apple.asset.credential.certificate (ContentType:</span> <span class="string">application/pkcs1)</span></span><br><span class="line"></span><br><span class="line"><span class="string">com.apple.security.pem</span> <span class="string">→</span> </span><br><span class="line">  <span class="attr">com.apple.asset.credential.certificate (ContentType:</span> <span class="string">application/pem)</span></span><br><span class="line"></span><br><span class="line"><span class="string">com.apple.security.root</span> <span class="string">→</span> </span><br><span class="line">  <span class="string">com.apple.asset.credential.certificate</span> <span class="string">(用于根证书)</span></span><br><span class="line"></span><br><span class="line"><span class="string">com.apple.security.pkcs12</span> <span class="string">→</span> </span><br><span class="line">  <span class="string">com.apple.asset.credential.identity</span></span><br><span class="line"></span><br><span class="line"><span class="string">新增自动化证书管理:</span></span><br><span class="line">  <span class="string">com.apple.asset.credential.scep</span></span><br><span class="line">  <span class="string">com.apple.asset.credential.acme</span></span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h3><p>DDM Assets 是传统 MDM 证书管理的<strong>现代化升级版本</strong>：</p>
<ul>
<li><strong>Certificate Asset</strong>: 统一了 PKCS1&#x2F;PEM&#x2F;ROOT，支持外部引用</li>
<li><strong>Identity Asset</strong>: 升级了 PKCS12，增加访问控制</li>
<li><strong>新增类型</strong>: 支持自动化证书管理 (SCEP&#x2F;ACME&#x2F;UserPassword)</li>
<li><strong>核心改进</strong>: 从内嵌数据转向外部引用，提供更好的扩展性和管理能力</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/MDM/SSO%20Account%20-%20Kerberso/SSO%20Account%20Policy%20-%20deprecated/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/MDM/SSO%20Account%20-%20Kerberso/SSO%20Account%20Policy%20-%20deprecated/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="SSO-Account-Policy"><a href="#SSO-Account-Policy" class="headerlink" title="SSO Account Policy"></a>SSO Account Policy</h1><p>Citrix Official Doc: <a target="_blank" rel="noopener" href="https://docs.citrix.com/en-us/citrix-endpoint-management/policies/sso-account-policy">https://docs.citrix.com/en-us/citrix-endpoint-management/policies/sso-account-policy</a></p>
<p>CEM Policy Configuration:</p>
<p>![image-20250708141128751](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20250708141128751.png)</p>
<p><strong>Apple Official Doc</strong></p>
<ul>
<li>Developer Doc<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/devicemanagement/singlesignon/kerberos-data.dictionary?language=objc">https://developer.apple.com/documentation/devicemanagement/singlesignon/kerberos-data.dictionary?language=objc</a></li>
</ul>
</li>
<li>Support Doc:<ul>
<li><a target="_blank" rel="noopener" href="https://support.apple.com/en-in/guide/deployment/dep7a81f07b/web">https://support.apple.com/en-in/guide/deployment/dep7a81f07b/web</a></li>
</ul>
</li>
</ul>
<h1 id="Extensible-SSO-Kerberos"><a href="#Extensible-SSO-Kerberos" class="headerlink" title="Extensible SSO Kerberos"></a>Extensible SSO Kerberos</h1><p>The payload you use to configure an <strong>app extension</strong> that performs single sign-on with the Kerberos extension.</p>
<blockquote>
<p>The Kerberos SSO extension simplifies the process of acquiring a Kerberos ticket-granting ticket (TGT)  from your organization’s Active Directory domain, allowing users to seamlessly authenticate to resources  like websites, apps, and file servers.</p>
</blockquote>
<ul>
<li><p>The Kerberos SSO extension also helps your users manage their Active Directory accounts. </p>
</li>
<li><p>The Kerberos SSO extension should be used with an on-premise Active Directory domain. Azure Active  Directory isn’t supported.</p>
</li>
<li><p>iOS 13</p>
</li>
<li><p>An Active Directory domain running Windows Server 2008 or later</p>
</li>
<li><p>Access to the network where the Active Directory domain is hosted. This network access can be through  Wi-Fi, Ethernet, or <strong>VPN</strong>.</p>
</li>
</ul>
<h2 id="Enterprise-Connect"><a href="#Enterprise-Connect" class="headerlink" title="Enterprise Connect"></a>Enterprise Connect</h2><p>The Kerberos SSO extension is intended to replace Enterprise Connect. </p>
<p>What is Enterprise Connect?</p>
<h2 id="User-setup—iOS-and-iPadOS"><a href="#User-setup—iOS-and-iPadOS" class="headerlink" title="User setup—iOS and iPadOS"></a>User setup—iOS and iPadOS</h2><ol>
<li>Connect your device to a network where your organization’s Active Directory domain is available.  </li>
<li>Do one of the following:  <ul>
<li>Use Safari to access a website that supports Kerberos authentication.  </li>
<li>Launch an app that supports Kerberos authentication.</li>
</ul>
</li>
<li>Enter your Kerberos or Active Directory user name and password.  </li>
<li>You’ll be asked if you want to permanently sign in automatically. Most users should tap Yes.  </li>
<li>Tap Sign In. After a brief pause, your website or app will load. If you chose to sign in to the Kerberos SSO  extension automatically, you’ll no longer be prompted for credentials until you change your password.  If you didn’t choose to sign in automatically, you’ll be prompted for credentials only when your Kerberos  credential expires—usually in 10 hours.</li>
</ol>
<h2 id="Domain-realm-mapping"><a href="#Domain-realm-mapping" class="headerlink" title="Domain-realm mapping"></a>Domain-realm mapping</h2><p>A custom domain-realm mapping for Kerberos. The system uses this when the DNS name of hosts doesn’t match the realm name. Most administrators don’t need to customize this.</p>
<h2 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h2><h3 id="Required"><a href="#Required" class="headerlink" title="Required"></a>Required</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Realm</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p><strong>(Required)</strong> </p>
<p>The Kerberos realm. Use proper capitalization for this value. If in an Active Directory forest, this is the realm where the user logs in.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ExtensionIdentifier</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p><strong>(Required)</strong> </p>
<p>Set this to <code>com.apple.AppSSOKerberos.KerberosExtension</code> for this extension.</p>
<p>Value: <code>com.apple.AppSSOKerberos.KerberosExtension</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TeamIdentifier</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p><strong>(Required)</strong> </p>
<p>Set this to <code>apple</code> for this extension.</p>
<p>Value: <code>apple</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Type</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p><strong>(Required)</strong> </p>
<p>Set this to <code>Credential</code> for this extension.</p>
<p>Value: <code>Credential</code></p>
<h3 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h3><h4 id="Hosts"><a href="#Hosts" class="headerlink" title="Hosts"></a>Hosts</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hosts</span><br><span class="line">[string]</span><br></pre></td></tr></table></figure>

<p>One or more host or domain names for which the app extension performs SSO.</p>
<p>The system:</p>
<ul>
<li>Matches host or domain names case-insensitively</li>
<li>Requires that all the host and domain names of all installed Extensible SSO payloads are unique</li>
</ul>
<h4 id="ExtensionData"><a href="#ExtensionData" class="headerlink" title="ExtensionData"></a>ExtensionData</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">allowAutomaticLogin</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>If <code>false</code>, the system doesn’t allow saving passwords in the keychain.</p>
<p>Default: <code>true</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">certificateUUID</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>The PayloadUUID of a PKINIT certificate.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">credentialBundleIdACL</span><br><span class="line">[string]</span><br></pre></td></tr></table></figure>

<p>A list of bundle IDs allowed to access the ticket-granting ticket (TGT).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">credentialUseMode</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>This setting affects how other processes use the Kerberos Extension credential. Allowed values:</p>
<ul>
<li><code>always</code>: The system always uses the credential if the SPN matches the Kerberos Extension <code>Hosts</code> array and the caller hasn’t specified another credential. However, the system won’t use the credential if the calling app isn’t in the <code>credentialBundleIDACL</code>.</li>
<li><code>whenNotSpecified</code>: The system only uses the extension credential if the SPN matches the Kerberos Extension <code>Hosts</code> array. However, the system won’t use the credential if the calling app isn’t in the <code>credentialBundleIDACL</code>.</li>
<li><code>kerberosDefault</code>: The system uses the default Kerberos processes to select credentials, and normally uses the default Kerberos credential. This is the same as turning off this capability.</li>
</ul>
<p>Available in macOS 11 and later.</p>
<p>Default: <code>always</code></p>
<p>Possible Values: <code>always, whenNotSpecified, kerberosDefault</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">customUsernameLabel</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>The custom user name label used in the Kerberos extension instead of “Username,” such as “Company ID”. Available in macOS 11 and later.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">helpText</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>The text to display to the user at the bottom of the Kerberos login window. You can also use this to display help information or disclaimer text. Available in iOS 14 and later, and macOS 11 and later.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">includeManagedAppsInBundleIdACL</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>If <code>true</code>, the Kerberos extension allows only managed apps to access and use the credential. This is in addition to the <code>credentialBundleIDACL</code>, if you specify that value. Available in iOS 14 and later, and macOS 12 and later.</p>
<p>Default: <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">isDefaultRealm</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>Specifies whether this is the default realm if there’s more than one Kerberos extension configuration.</p>
<p>Default: <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">performKerberosOnly</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>If <code>true</code>, the Kerberos Extension handles Kerberos requests only. It doesn’t check for password expiration, show the password expiration in the menu, check for external password changes, perform password sync, or retrieve the home directory. Available in macOS 13 and later.</p>
<p>Default: <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">preferredKDCs</span><br><span class="line">[string]</span><br></pre></td></tr></table></figure>

<p>The ordered list of preferred Key Distribution Centers (KDCs) to use for Kerberos traffic. Use this if the servers aren’t discoverable through DNS. If the servers are specified, then the system uses them for both connectivity checks and attempts to use them first for Kerberos traffic. If the servers don’t respond, the device falls back to DNS discovery. Format each entry the same as it would be in a <code>krb5.conf</code> file, for example:</p>
<ul>
<li><code>adserver1.example.com</code></li>
<li><code>tcp/adserver1.example.com:88</code></li>
<li><code>kkdcp://kerberosproxy.example.com:443/kkdcp</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">principalName</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>The principal (username) to use. You don’t need to include the realm.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">requireTLSForLDAP</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>Require that LDAP connections use TLS. Available in macOS 11 and later.</p>
<p>Default: <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">requireUserPresence</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>If <code>true</code>, the system requires the user to provide Touch ID, Face ID or their passcode to access the keychain entry.</p>
<p>Default: <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">siteCode</span><br><span class="line">string</span><br></pre></td></tr></table></figure>

<p>The name of the Active Directory site the Kerberos extension should use. Most administrators don’t need to modify this value, as the Kerberos extension can normally find the site automatically.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useSiteAutoDiscovery</span><br><span class="line">boolean</span><br></pre></td></tr></table></figure>

<p>If <code>false</code>, the Kerberos extension doesn’t automatically use LDAP and DNS to determine its AD site name.</p>
<p>Default: <code>true</code></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>Official Doc: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.apple.com/business/docs/site/Kerberos_Single_Sign_on_Extension_User_Guide.pdf">https://www.apple.com/business/docs/site/Kerberos_Single_Sign_on_Extension_User_Guide.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/devicemanagement/extensiblesinglesignonkerberos?language=objc">https://developer.apple.com/documentation/devicemanagement/extensiblesinglesignonkerberos?language=objc</a></li>
</ul>
<p>Video:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2020/10139/">https://developer.apple.com/videos/play/wwdc2020/10139/</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/tech-talks/301/">https://developer.apple.com/videos/play/tech-talks/301/</a></li>
</ul>
<p>Onimasa:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://techzone.omnissa.com/resource/migrating-mobile-sso-ios-new-mobile-sso-apple-extension#sso-extension-based-mobile-sso-for-apple">https://techzone.omnissa.com/resource/migrating-mobile-sso-ios-new-mobile-sso-apple-extension#sso-extension-based-mobile-sso-for-apple</a></li>
</ul>
<p>Intune:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/intune/intune-service/configuration/use-enterprise-sso-plug-in-ios-ipados-macos?pivots=ios-ipados#sso-app-extension">https://learn.microsoft.com/en-us/intune/intune-service/configuration/use-enterprise-sso-plug-in-ios-ipados-macos?pivots=ios-ipados#sso-app-extension</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/intune/intune-service/configuration/ios-device-features-settings#single-sign-on">https://learn.microsoft.com/en-us/intune/intune-service/configuration/ios-device-features-settings#single-sign-on</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/intune/intune-service/configuration/use-enterprise-sso-plug-in-ios-ipados-with-intune?tabs=prereq-other-mdm,create-profile-other-mdm">https://learn.microsoft.com/en-us/intune/intune-service/configuration/use-enterprise-sso-plug-in-ios-ipados-with-intune?tabs=prereq-other-mdm%2Ccreate-profile-other-mdm</a></li>
</ul>
<h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><ul>
<li><input checked="" disabled="" type="checkbox"> Deploy <code>SSO Account Policy</code> to device<ul>
<li><input checked="" disabled="" type="checkbox"> iOS 26</li>
<li><input checked="" disabled="" type="checkbox"> lower than 26: iOS 17&#x2F;18</li>
</ul>
</li>
<li><input checked="" disabled="" type="checkbox"> Go through the new policy <code>Extensible SSO Kerberos</code> documents</li>
<li><input disabled="" type="checkbox"> Consider to build Kerberos back-end service, to configure ON-PREM AD?</li>
<li><input disabled="" type="checkbox"> develop new policy</li>
</ul>
<h1 id="Difference-SSO-Extension-SSO-Kerberos"><a href="#Difference-SSO-Extension-SSO-Kerberos" class="headerlink" title="Difference - SSO Extension &#x2F; SSO Kerberos"></a>Difference - SSO Extension &#x2F; SSO Kerberos</h1><ul>
<li><p>Type : Redirect Type VS Credential Type</p>
</li>
<li><p>ExtensionIdentifier: </p>
<ul>
<li><p>Microsoft Entra SSO extension(AAD) or a generic redirect extension(self developed).</p>
<p>The Microsoft Enterprise SSO plug-in relies on Apple’s <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/authenticationservices">enterprise SSO</a> framework. Apple’s enterprise SSO framework ensures that only an approved SSO plug-in can work for each identity provider by utilizing a technology called <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/xcode/supporting-associated-domains">associated domains</a>. To verify the identity of the SSO plug-in, each Apple device sends a network request to an endpoint owned by the identity provider and read information about approved SSO plug-ins. In addition to reaching out directly to the identity provider, Apple has also implemented another caching for this information.</p>
</li>
<li><p>Kerberos-specific credential extension provided by Apple(AD)</p>
</li>
</ul>
<p>![image-20250711153611179](&#x2F;Users&#x2F;junkangd&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20250711153611179.png)</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">Microsoft Enterprise SSO plug-in for Apple Devices</th>
<th align="left">Single sign-on app extension with Kerberos</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Uses the <strong>Microsoft Entra ID</strong> SSO app extension type</td>
<td align="left">Uses the <strong>Kerberos</strong> SSO app extension type</td>
</tr>
<tr>
<td align="left">Supports the following apps: - Microsoft 365 - Apps, websites or services integrated with Microsoft Entra ID</td>
<td align="left">Supports the following apps: - Apps, websites or services integrated with AD</td>
</tr>
</tbody></table>
<h1 id="Tickets"><a href="#Tickets" class="headerlink" title="Tickets"></a>Tickets</h1><p>Extensible SSO Extension</p>
<ul>
<li><input disabled="" type="checkbox"> [SSO Kerberos Extension] - Add Policy UI for extensible sso kerberos extension policy - 2</li>
<li><input disabled="" type="checkbox"> [SSO  Extension] - Add Policy UI for extensible sso extension policy - 2</li>
<li><input disabled="" type="checkbox"> [SSO Kerberos Extension] - Create extensible sso kerberos extension configuration profile policy payload - 3</li>
<li><input disabled="" type="checkbox"> [SSO  Extension] - Create extensible sso extension configuration profile policy payload - 3</li>
<li><input disabled="" type="checkbox"> [SSO Kerberos Extension] - Configure onprem Active Diretory domain server. - 2</li>
<li><input disabled="" type="checkbox"> [SSO Extension] - SecureHub Develop SSO Extension - Support Authentication Services  - 3</li>
<li><input disabled="" type="checkbox"> [SSO Extension] - SecureHub Develop SSO Extension - Support Associated Domains - 3</li>
<li><input disabled="" type="checkbox"> Dev Test - 3</li>
<li><input disabled="" type="checkbox"> Demo video and feature guideline doc - 2</li>
<li><input disabled="" type="checkbox"> CQE test plan creation and review - 3</li>
<li><input disabled="" type="checkbox"> Feature Flag</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/MDM/DDM%20-%20SoftwareUpdateSettings/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/MDM/DDM%20-%20SoftwareUpdateSettings/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Beta"><a href="#Beta" class="headerlink" title="Beta"></a>Beta</h1><h2 id="字段规则"><a href="#字段规则" class="headerlink" title="字段规则"></a>字段规则</h2><table>
<thead>
<tr>
<th>ProgramEnrollment 值</th>
<th>OfferPrograms 存在条件</th>
<th>RequireProgram 存在条件</th>
<th>互斥规则与说明</th>
</tr>
</thead>
<tbody><tr>
<td>Allowed</td>
<td>允许存在</td>
<td>禁止存在</td>
<td>用户可选择OfferPrograms中的程序或Apple Account关联的Beta程序</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>允许存在（当RequireProgram不存在时）</td>
<td>允许存在（当OfferPrograms不存在时）</td>
<td>RequireProgram与OfferPrograms互斥，若RequireProgram存在，设备自动加入指定程序；否则用户从OfferPrograms选择</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>禁止存在</td>
<td>禁止存在</td>
<td>设备禁止加入任何Beta程序，并退出已加入的程序</td>
</tr>
</tbody></table>
<h2 id="补充规则"><a href="#补充规则" class="headerlink" title="补充规则"></a>补充规则</h2><ol>
<li><p><strong>ProgramEnrollment为Allowed或AlwaysOn时</strong>：  </p>
<ul>
<li>若同时存在 <code>OfferPrograms</code>，用户可在这些程序中选择（或Apple Account关联程序，当ProgramEnrollment&#x3D;Allowed时）。</li>
<li>若 <code>RequireProgram</code> 存在，则 <code>OfferPrograms</code> 必须不存在，且仅当 <code>ProgramEnrollment=AlwaysOn</code> 时允许。</li>
</ul>
</li>
<li><p><strong>默认行为</strong>：  </p>
<ul>
<li>未显式配置时，<code>ProgramEnrollment</code> 默认为 <code>Allowed</code>。</li>
<li>非监管设备若未声明 <code>ProgramEnrollment</code>，则隐式视为 <code>Allowed</code>，此时 <code>OfferPrograms</code> 允许存在。</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>Download</th>
<th>InstallOSUpdates</th>
<th align="left">组合描述</th>
<th>Result</th>
</tr>
</thead>
<tbody><tr>
<td>Allowed</td>
<td>Allowed</td>
<td align="left">下载和安装都允许用户选择</td>
<td>✅</td>
</tr>
<tr>
<td>Allowed</td>
<td>AlwaysOn</td>
<td align="left">下载允许，安装始终开启</td>
<td>✅</td>
</tr>
<tr>
<td>Allowed</td>
<td>AlwaysOff</td>
<td align="left">下载允许，安装始终关闭</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>Allowed</td>
<td align="left">下载始终开启，安装允许选择</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>AlwaysOn</td>
<td align="left">下载和安装都始终开启</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>AlwaysOff</td>
<td align="left">下载始终开启，安装始终关闭</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>Allowed</td>
<td align="left">下载始终关闭，安装允许选择</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>AlwaysOn</td>
<td align="left">下载始终关闭，安装始终开启</td>
<td>❌</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>AlwaysOff</td>
<td align="left">下载和安装都始终关闭</td>
<td>✅</td>
</tr>
</tbody></table>
<h1 id="Download-and-InstallOSUpdates-Combinations"><a href="#Download-and-InstallOSUpdates-Combinations" class="headerlink" title="Download and InstallOSUpdates Combinations"></a>Download and InstallOSUpdates Combinations</h1><table>
<thead>
<tr>
<th>Download</th>
<th>InstallOSUpdates</th>
<th>Description</th>
<th>Result</th>
</tr>
</thead>
<tbody><tr>
<td>Allowed</td>
<td>Allowed</td>
<td>Both download and install are user-configurable</td>
<td>✅</td>
</tr>
<tr>
<td>Allowed</td>
<td>AlwaysOn</td>
<td>Download is user-configurable, install is always on</td>
<td>✅</td>
</tr>
<tr>
<td>Allowed</td>
<td>AlwaysOff</td>
<td>Download is user-configurable, install is always off</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>Allowed</td>
<td>Download is always on, install is user-configurable</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>AlwaysOn</td>
<td>Both download and install are always on</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOn</td>
<td>AlwaysOff</td>
<td>Download is always on, install is always off</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>Allowed</td>
<td>Download is always off, install is user-configurable</td>
<td>✅</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>AlwaysOn</td>
<td>Download is always off, install is always on</td>
<td>❌</td>
</tr>
<tr>
<td>AlwaysOff</td>
<td>AlwaysOff</td>
<td>Both download and install are always off</td>
<td>✅</td>
</tr>
</tbody></table>
<p>Hi everyone, we add a new OS Update policy named Software Update Enforcement based on DDM. This update gives IT admins more control over iOS device updates, allowing them to control which updates are applied and set deadlines.</p>
<p>There are 2 required fields and 2 optional fields, You can either pick the Target OS Version from a dropdown or type it in yourself..</p>
<p>After the policy deployed to the device, we could check the device status. </p>
<ul>
<li><p>MDM Profile - Configuration to view the policy content</p>
</li>
<li><p>General - Software Update to view the applied target OS version.</p>
</li>
</ul>
<p>What’s more, the policy takes precedence over the legacy mdm policy - control os update, if admin deployed these two policy to the device, the control os update may take no effect.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/officeDocuments/officeDocs/Secure%20Apps%20Build/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/officeDocuments/officeDocs/Secure%20Apps%20Build/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 15:30:03" itemprop="dateCreated datePublished" datetime="2025-11-26T15:30:03+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="sm"><a href="#sm" class="headerlink" title="sm"></a>sm</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SM setting</span><br><span class="line">[self writeFrameworkLoaderSDKLookupFileWithSDKType:MDXSDKTypeExplicit];</span><br><span class="line">1. set bundle id to</span><br><span class="line">com.citrix.mail.ios.InternalTest</span><br><span class="line">com.citrix.mail.ios.InternalTest.notifext</span><br><span class="line">com.citrix.mail.ios.InternalTest.calldirext</span><br><span class="line">in 3 plist files, set $(PRODUCT_BUNDLE_IDENTIFIER)</span><br><span class="line">2. enable auto sign</span><br><span class="line">3. set team to</span><br><span class="line">Citrix Systems Inc.</span><br><span class="line">4. remove 4 app groups</span><br><span class="line">5. choose schema WorxMailAppStore</span><br><span class="line">6. request access to</span><br><span class="line">https://code.citrite.net/projects/gsrv/repos/g11n_cocoapods</span><br></pre></td></tr></table></figure>

<h1 id="sw"><a href="#sw" class="headerlink" title="sw"></a>sw</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. set bundle id to</span><br><span class="line">com.citrix.browser.ios.InternalTest</span><br><span class="line">2. enable auto sign</span><br><span class="line">3. set team to</span><br><span class="line">Citrix Systems Inc.</span><br><span class="line">4. choose schema WorxWebAppStore</span><br><span class="line">Queried URL Schemes</span><br><span class="line">zenprisedmpostenroll</span><br><span class="line">com.citrix.x1</span><br><span class="line">citrixreceiverfd</span><br><span class="line">com.citrix.ctxcwatestapp</span><br><span class="line">&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt; &lt;array&gt; &lt;string&gt;zenprisedmpostenroll&lt;/string&gt; &lt;string&gt;com.citrix.x1&lt;/string&gt; &lt;string&gt;citrixreceiverfd&lt;/string&gt; &lt;string&gt;com.citrix.ctxcwatestapp&lt;/string&gt; &lt;/array&gt;</span><br><span class="line">6. add exit in remove unused archs</span><br><span class="line">7. remove -ld from other linker flags</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>com.citrix.meatwork</p>
<h1 id="SH"><a href="#SH" class="headerlink" title="SH"></a>SH</h1><p>com.zenprise.zpmdmbetaIntenal</p>
<h1 id="SwifttestApp"><a href="#SwifttestApp" class="headerlink" title="SwifttestApp"></a>SwifttestApp</h1><p>com.citrix.SwiftTestApp.iOS.InternalTest<br>com.citrix.SwiftTestApp.iOS.InternalTest.CustomKeyboard</p>
<p>Citrix Systems Inc.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/uncategorized/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Supremes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/11/uncategorized/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-26 14:39:19" itemprop="dateCreated datePublished" datetime="2025-11-26T14:39:19+08:00">2025-11-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Supremes</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
